(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),i=n.n(c),o=(n(80),n(81),n(3)),s=n(8),l=n.n(s),d=n(12),u=n(6),b=n(10),j=n(71),h=n.n(j).a.create({baseURL:"http://localhost:8082"}),x=n(1),p={token:null,id:null,username:null,success:!1,loading:!1,permissions:[]},O=a.a.createContext(),m=function(){return Object(r.useContext)(O)},f=function(e){var t=e.children,n=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1],j=Object(r.useState)(p),x=Object(u.a)(j,2),O=x[0],m=x[1],f=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/login",{username:t,password:n});case 2:if(r=e.sent,!(a=r.data).success){e.next=8;break}return m(a),s(!0),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){m(null),s(!1),window.localStorage.setItem("token",null),window.localStorage.setItem("id",null),window.localStorage.setItem("username",null)},g=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/signup",{username:t,password:n});case 2:if(r=e.sent,!(a=r.data).success){e.next=8;break}return m(a),s(!0),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=Object(r.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post("/validate-token",{userId:n},{headers:{Authorization:"Barer ".concat(t)}});case 3:(a=e.sent).data.success?(m(Object(b.a)(Object(b.a)({},O),{},{username:r,userId:n,token:t,permissions:a.data.permissions,isAdmin:a.data,success:!0})),s(!0)):(m(p),localStorage.removeItem("token"),localStorage.removeItem("id"),localStorage.removeItem("username"),s(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),401===e.t0.response.status?(window.history.replaceState(null,"","/login"),m(p),localStorage.removeItem("token"),localStorage.removeItem("id"),localStorage.removeItem("username"),s(!1)):console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[O]);return Object(r.useEffect)((function(){var e=localStorage.getItem("token"),t=localStorage.getItem("id"),n=localStorage.getItem("username");e&&t&&w(e,t,n)}),[]),{signUp:g,login:f,logout:v,authDetails:O,setAuthDetails:m,loading:n,setLoading:a,isAuthenticated:o,validateToken:w}}();return Object(x.jsx)(O.Provider,{value:n,children:t})};var v,g,w,y,k,S,E,C,F,M,I,N,A,D,B,T,z,V,U,P,L,_,R,G,H,K,W,Z,J,$,q,Q,X,Y,ee,te,ne,re,ae,ce,ie,oe,se,le=n(14),de=n(13),ue=n(4),be=ue.b.div(v||(v=Object(o.a)(["\n  margin: auto;\n  height: 80%;\n  min-width: 40%;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    padding-inline: 20px;\n  }\n"]))),je=ue.b.form(g||(g=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n"]))),he=ue.b.h1(w||(w=Object(o.a)(["\n  margin-block: 20px;\n  text-align: center;\n"]))),xe=ue.b.div(y||(y=Object(o.a)(["\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n  padding: 0.5rem 1.25rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  margin: 0 auto;\n"]))),pe=ue.b.div(k||(k=Object(o.a)(["\n  text-align: center;\n  min-height: 75px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Oe=ue.b.div(S||(S=Object(o.a)(["\n  margin-top: 15px;\n  text-align: center;\n"]))),me=Object(ue.a)(E||(E=Object(o.a)(["\n  text-decoration: none !important;\n  padding: 8px;\n  background-color: transparent;\n  border: 1px solid ",";\n  color: gray;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n  transition: 0.2s all;\n  font-weight: 500;\n  font-size: 1.1rem;\n  gap: 5px;\n  height: 40px;\n  color: ",";\n  &:hover {\n    background-color: ",";\n    color: #b3b3b3;\n  }\n  &:active {\n    background-color: #3333337d;\n    color: #b3b3b3;\n  }\n  &:focus {\n    background-color: #3333337d;\n    color: #b3b3b3;\n  }\n"])),(function(e){return e.BColor||"#27273d6b"}),(function(e){return e.color||"#b3b3b3"}),(function(e){return e.BColor?e.BColor:"#27273d6b"})),fe=Object(ue.a)(C||(C=Object(o.a)(["\n  text-decoration: none !important;\n  padding: 10px 15px;\n  color: #e5e5e5;\n  transition: all 0.1s;\n  border-radius: 8px;\n  text-align: center;\n  &:hover {\n    box-shadow: 0px 0px 15px 0px #000000;\n    color: darkcyan;\n  }\n  &:focus {\n    box-shadow: 0px 0px 15px 0px #000000;\n    color: darkcyan;\n  }\n  &:active {\n    box-shadow: 0px 0px 15px 0px #000000;\n    color: darkcyan;\n  }\n  &."," {\n    box-shadow: 0px 0px 15px 0px #000000;\n    color: darkcyan;\n  }\n"])),(function(e){return e.activeClassName})),ve=Object(ue.b)(de.c)(F||(F=Object(o.a)(["\n  ","\n"])),fe),ge=ue.b.button(M||(M=Object(o.a)(["\n  ","\n  background-color: transparent;\n  border: none;\n  font-size: ",";\n  color: darkcyan;\n  padding: 8px 10px;\n  position: relative;\n"])),fe,(function(e){return e.fontSmall?"0.8rem":"1rem"})),we=ue.b.button(I||(I=Object(o.a)(["\n  background-color: darkblue;\n  border: 1px solid #08084c;\n  color: whitesmoke;\n  padding: 10px 15px;\n  border-radius: 10px;\n  transition: 0.2s all;\n  font-size: 1.1rem;\n  font-weight: 600;\n\n  &:hover {\n    background-color: #08084c;\n    border-color: #01011d;\n    box-shadow: 0px 0px 3px 0px hsl(240deg 56% 58% / 70%);\n  }\n  &:active {\n    background-color: #08084c;\n    border-color: #01011d;\n    box-shadow: 0px 0px 3px 0px hsl(240deg 56% 58% / 70%);\n  }\n  &:focus {\n    background-color: #08084c;\n    border-color: #01011d;\n    box-shadow: 0px 0px 3px 0px hsl(240deg 56% 58% / 70%);\n  }\n  &:disabled,\n  &[disabled] {\n    border: 1px solid #999999;\n    background-color: #cccccc;\n    color: #666666;\n    pointer-events: none;\n  }\n"]))),ye=ue.b.button(N||(N=Object(o.a)(["\n  ","\n"])),me),ke=Object(ue.b)(de.c)(A||(A=Object(o.a)(["\n  ","\n  &."," {\n    box-shadow: 0px 0px 15px 0px #000000;\n    color: darkcyan;\n  }\n"])),me,(function(e){return e.activeClassName})),Se=n(37),Ee="UPDATE_FORM",Ce="RESET_FORM",Fe="loading",Me="success",Ie="fail",Ne="init",Ae=function(e){return function(t,n){var r;switch(n.type){case Ee:var a=n.data,c=a.name,i=a.value,o=a.hasError,s=a.error,l=a.touched,d=a.isFormValid;return Object(b.a)(Object(b.a)({},t),{},(r={},Object(Se.a)(r,c,Object(b.a)(Object(b.a)({},t[c]),{},{value:i,hasError:o,error:s,touched:l})),Object(Se.a)(r,"isFormValid",d),r));case Ce:return e;default:return t}}},De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r,a,c){var i=e(n,r),o=i.hasError,s=i.error,l=!0;for(var d in c){var u=c[d];(d===n&&o||d!==n&&u.hasError)&&(l=!1)}a({type:Ee,data:{name:n,value:r,hasError:o,error:s,touched:!1,isFormValid:l}}),t&&t(n,r,a,o,s,l)}},Be=function(e){return function(t,n,r,a){var c=e(t,n),i=c.hasError,o=c.error,s=!0;for(var l in a){var d=a[l];(l===t&&i||l!==t&&d.hasError)&&(s=!1)}r({type:Ee,data:{name:t,value:n,hasError:i,error:o,touched:!0,isFormValid:s}})}},Te=n(125),ze=function(e){var t=e.status,n=e.setStatus,a=e.message,c=Object(r.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1];Object(r.useEffect)((function(){s(t===Me||t===Ie)}),[t]);return Object(x.jsx)(Te.a,{show:o,onHide:function(){return n(Ne)},children:Object(x.jsx)(Te.a.Header,{closeButton:!0,children:Object(x.jsx)(Te.a.Title,{children:a})})})},Ve=n(126),Ue=ue.b.div(D||(D=Object(o.a)(["\n  color: red;\n  min-height: 1.25em;\n  line-height: 1.25;\n"]))),Pe=Object(ue.b)(Ve.a.Label)(B||(B=Object(o.a)(["\n  margin-bottom: 0;\n  width: 100%;\n"]))),Le=Object(ue.b)(Ve.a.Group)(T||(T=Object(o.a)(["\n  width: ",";\n"])),(function(e){return e.width||"250px"})),_e=function(e){var t=e.changed,n=e.data,r=e.id,a=e.onFocusOut,c=e.width,i=n.value,o=n.type,s=n.error,l=n.touched,d=n.label,u=n.hasError;return Object(x.jsxs)(Le,{width:c,children:[Object(x.jsxs)(Pe,{children:[d,Object(x.jsx)(Ve.a.Control,{id:r,onChange:t,value:i||"",name:r,type:o,onBlur:a})]}),Object(x.jsx)(Ue,{children:l&&u&&s})]})},Re=function(e,t){var n=!1,r="";switch(e){case"username":""===t.trim()?(n=!0,r="Username cannot be empty"):(n=!1,r="");break;case"password":0===t.length?(n=!0,r="Password can not be empty"):(n=!1,r="")}return{hasError:n,error:r}},Ge={username:{label:"User Name",value:"",type:"text",touched:!1,hasError:!0,error:""},password:{label:"Password",value:"",type:"text",touched:!1,hasError:!0,error:""},isFormValid:!1},He=function(){var e=Ae(Ge),t=Object(r.useReducer)(e,Ge),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(Ne),o=Object(u.a)(i,2),s=o[0],b=o[1],j=Object(r.useState)(""),h=Object(u.a)(j,2),p=h[0],O=h[1],f=Object(r.useState)(!1),v=Object(u.a)(f,2),g=v[0],w=v[1],y=De(Re),k=Be(Re),S=m().login,E=Object(le.g)(),C=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,i,o,s,d,u,j,h,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t.preventDefault(),b(Fe),n=!0,e.prev=3,a)i=a[r],o=i.value,s=Re(r,o),d=s.hasError,u=s.error,d&&(n=!1),r&&c({type:Ee,data:{name:r,value:o,hasError:d,error:u,touched:!0,isFormValid:n}});if(n){e.next=10;break}w(!0),setTimeout((function(){w(!1)}),5e3),e.next=17;break;case 10:for(h in j={},a)j[h]=a[h].value;return e.next=14,S(j.username,j.password);case 14:x=e.sent,b(Me),x&&(window.localStorage.setItem("token",x.token),window.localStorage.setItem("id",x.id),window.localStorage.setItem("username",x.username),E.push("/main"));case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),b(Ie),O(e.t0.response.data.message),console.log(e.t0.response.data.message);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ze,{status:s,setStatus:b,message:p}),Object(x.jsxs)(be,{children:[Object(x.jsx)(he,{children:"Login"}),Object(x.jsx)(pe,{children:g&&!a.isFormValid&&Object(x.jsx)(xe,{children:"Please fill all the fields correctly"})}),Object(x.jsxs)(je,{onSubmit:C,children:[Object.keys(a).map((function(e){return"text"===a[e].type&&Object(x.jsx)(_e,{changed:function(t){return y(e,t.target.value,c,a)},id:e,data:a[e],onFocusOut:function(t){return k(e,t.target.value,c,a)},width:"100%"},e)})),Object(x.jsx)(we,{type:"submit",children:"Login"})]}),Object(x.jsxs)(Oe,{children:[Object(x.jsx)("h4",{children:"Need to sign up first?"})," ",Object(x.jsx)(de.b,{to:"signup",children:"Signup"})]})]})]})},Ke=function(){var e=Ae(Ge),t=Object(r.useReducer)(e,Ge),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(Ne),o=Object(u.a)(i,2),s=o[0],b=o[1],j=Object(r.useState)(""),h=Object(u.a)(j,2),p=h[0],O=h[1],f=Object(r.useState)(!1),v=Object(u.a)(f,2),g=v[0],w=v[1],y=De(Re),k=Be(Re),S=m().signUp,E=Object(le.g)(),C=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,i,o,s,d,u,j,h,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t.preventDefault(),b(Fe),n=!0,e.prev=3,a)i=a[r],o=i.value,s=Re(r,o),d=s.hasError,u=s.error,d&&(n=!1),r&&c({type:Ee,data:{name:r,value:o,hasError:d,error:u,touched:!0,isFormValid:n}});if(n){e.next=10;break}w(!0),setTimeout((function(){w(!1)}),5e3),e.next=17;break;case 10:for(h in j={},a)j[h]=a[h].value;return e.next=14,S(j.username,j.password);case 14:x=e.sent,b(Me),x&&(window.localStorage.setItem("token",x.token),window.localStorage.setItem("id",x.id),window.localStorage.setItem("username",x.username),E.push("/main"));case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),b(Ie),O(e.t0.response.data.message),console.log(e.t0.response.data.message);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ze,{status:s,setStatus:b,message:p}),Object(x.jsxs)(be,{children:[Object(x.jsx)(he,{children:"Sign up"}),Object(x.jsx)(pe,{children:g&&!a.isFormValid&&Object(x.jsx)(xe,{children:"Please fill all the fields correctly"})}),Object(x.jsxs)(je,{onSubmit:C,children:[Object.keys(a).map((function(e){return"text"===a[e].type&&Object(x.jsx)(_e,{changed:function(t){return y(e,t.target.value,c,a)},id:e,data:a[e],onFocusOut:function(t){return k(e,t.target.value,c,a)},width:"100%"},e)})),Object(x.jsx)(we,{type:"submit",children:"Sign up"})]}),Object(x.jsxs)(Oe,{children:[Object(x.jsx)("h4",{children:"Already a user?"})," ",Object(x.jsx)(de.b,{to:"login",children:"Login"})]})]})]})},We=ue.b.div(z||(z=Object(o.a)(["\n  max-width: 50%;\n  margin: auto;\n  padding-block: 20px;\n  background-color: #1f2c383d;\n  border-radius: 20px;\n  height: 80%;\n  display: flex;\n  color: whitesmoke;\n\n  @media (max-width: 768px) {\n    max-width: 80%;\n    margin-top: 10%;\n  }\n"]))),Ze=function(){var e=m().isAuthenticated,t=Object(le.i)().path,n=Object(le.g)();return Object(r.useEffect)((function(){return e&&n.push("/main"),function(){}}),[e,n]),Object(x.jsx)(We,{children:Object(x.jsxs)(le.d,{children:[Object(x.jsx)(le.b,{path:"/login",children:Object(x.jsx)(He,{})}),Object(x.jsx)(le.b,{path:"/signup",children:Object(x.jsx)(Ke,{})}),"/"===t&&Object(x.jsx)(le.a,{to:"".concat(t,"login")})]})})},Je=n(75),$e=["children"],qe=function(e){var t=e.children,n=Object(Je.a)(e,$e),r=m().isAuthenticated;return Object(x.jsx)(le.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){var n=e.location;return r?t:Object(x.jsx)(le.a,{to:{pathname:"/",state:{from:n}}})}}))},Qe=ue.b.div(V||(V=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n"]))),Xe=ue.b.div(U||(U=Object(o.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: baseline;\n"]))),Ye=ue.b.h1(P||(P=Object(o.a)(["\n  color: #e5e5e5;\n  @media (max-width: 768px) {\n    font-size: 1rem;\n  }\n"]))),et=ue.b.nav(L||(L=Object(o.a)(["\n  margin-top: auto;\n"]))),tt=ue.b.ul(_||(_=Object(o.a)(["\n  display: flex;\n  margin: 0;\n"]))),nt=ue.b.li(R||(R=Object(o.a)(["\n  margin-inline: 8px;\n  list-style: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),rt=function(){var e=Object(le.i)().url,t=m(),n=t.logout,r=t.authDetails;return Object(x.jsxs)(Qe,{children:[Object(x.jsxs)(Xe,{children:[Object(x.jsx)(Ye,{children:"Welcome to Shows / subscription WebApp"}),Object(x.jsx)(ge,{onClick:function(){return n()},children:"Logout"})]}),Object(x.jsx)(et,{children:Object(x.jsxs)(tt,{children:[Object(x.jsx)(nt,{children:r.permissions.includes("viewMovies")&&Object(x.jsx)(ve,{to:"".concat(e,"/shows"),activeClassName:"active",children:"Shows"})}),r.permissions.includes("viewSubscriptions")&&Object(x.jsx)(nt,{children:Object(x.jsx)(ve,{to:"".concat(e,"/members"),activeClassName:"active",children:"Members"})}),r.isAdmin&&Object(x.jsx)(nt,{children:Object(x.jsx)(ve,{to:"".concat(e,"/users"),activeClassName:"active",children:"User Managment"})})]})})]})},at=n(123),ct=ue.b.div(G||(G=Object(o.a)(["\n  border-radius: 200px;\n  font-size: 0.8rem;\n  width: 50px;\n  height: 50px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n"])),(function(e){return e.backgroundColor})),it=function(e){var t=e.firstName,n=e.lastName,r=t[0]+n[0];return Object(x.jsx)(ct,{backgroundColor:function(){var e=Math.floor(240*Math.random()),t=Math.floor(100*Math.random()),n=Math.floor(50*Math.random());return"hsl(".concat(e,"deg, ").concat(t,"%, ").concat(n,"%)")},children:r})},ot=n(24),st=n.n(ot),lt=n(25),dt=ue.b.div(H||(H=Object(o.a)(["\n  background-color: #1f2c383d;\n  border-radius: 10px;\n  max-width: 350px;\n  min-width: 350px;\n  padding: 10px;\n  border: 1px solid #333333;\n  max-height: 400px;\n"]))),ut=ue.b.div(K||(K=Object(o.a)(["\n  display: flex;\n  padding: 5px;\n"]))),bt=ue.b.div(W||(W=Object(o.a)(["\n  display: flex;\n  gap: 10px;\n  margin-inline-start: auto;\n"]))),jt=ue.b.div(Z||(Z=Object(o.a)(["\n  margin-bottom: 10px;\n"]))),ht=ue.b.span(J||(J=Object(o.a)(["\n  font-size: 1.2rem;\n  color: lightgray;\n  font-weight: 600;\n"]))),xt=ue.b.span($||($=Object(o.a)(["\n  font-size: 1rem;\n  font-weight: 400;\n"]))),pt=function(e){var t=e.index,n=e.url,r=e.handleDeletUser,a=e.user;return Object(x.jsxs)(dt,{children:[Object(x.jsxs)(ut,{children:[Object(x.jsx)(it,{firstName:a.firstName,lastName:a.lastName}),Object(x.jsxs)(bt,{children:[Object(x.jsxs)(ke,{BColor:"darkcyan",to:"".concat(n,"/edit-user/").concat(t),children:["Edit","  ",Object(x.jsx)(st.a,{path:lt.a,title:"User Profile",size:1})]}),Object(x.jsxs)(ye,{BColor:"#522a2a",onClick:function(){return r(a._id)},children:["Delete","  ",Object(x.jsx)(st.a,{path:lt.b,title:"User Profile",size:1})]})]})]}),Object(x.jsxs)(jt,{children:[Object(x.jsx)(ht,{children:"Name: "}),Object(x.jsx)(xt,{children:"".concat(a.firstName," ").concat(a.lastName)})]}),Object(x.jsxs)(jt,{children:[Object(x.jsx)(ht,{children:"User Name: "}),Object(x.jsx)(xt,{children:a.username})]}),Object(x.jsxs)(jt,{children:[Object(x.jsx)(ht,{children:"Session Time Out (Minutes): "}),a.sessionTimeOut||Object(x.jsx)(xt,{dangerouslySetInnerHTML:{__html:"&#x221e"}})]}),Object(x.jsxs)(jt,{children:[Object(x.jsx)(ht,{children:"Permisssions: "}),Object(x.jsx)(xt,{children:a.permissions.join(", ")})]})]})},Ot=ue.b.div(q||(q=Object(o.a)(["\n  color: whitesmoke;\n"]))),mt=ue.b.div(Q||(Q=Object(o.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-inline: auto;\n  gap: 10px;\n  overflow: auto;\n"]))),ft=function(e){var t=e.token,n=e.users,a=e.setUsers,c=Object(r.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1],b=Object(le.i)().url,j=function(){var e=Object(d.a)(l.a.mark((function e(r){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post("/delete-user",{userId:r},{headers:{Authorization:"Barer ".concat(t)}});case 3:c=Array.from(n),i=c.findIndex((function(e){return e._id===r})),c.splice(i,1),a(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,h.post("/all-users",null,{headers:{Authorization:"Barer ".concat(t)}});case 3:n=e.sent,a(n.data.allUsersData),s(!1);case 6:case"end":return e.stop()}}),e)})))()}),[t,a]),o?Object(x.jsx)(at.a,{animation:"border"}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(mt,{children:!o&&n&&n.map((function(e,t){return Object(x.jsx)(pt,{index:t,url:b,handleDeletUser:j,user:e},t)}))})})},vt=n(42),gt=ue.b.div(X||(X=Object(o.a)(["\n  max-width: 70%;\n  margin: auto;\n  padding-block: 20px;\n  background-color: #1f2c383d;\n  border-radius: 20px;\n  @media (max-width: 768px) {\n    max-width: 100%;\n    max-height: 70vh;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n"]))),wt=ue.b.form(Y||(Y=Object(o.a)(["\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n"]))),yt=ue.b.div(ee||(ee=Object(o.a)(["\n  min-width: 100%;\n  padding-inline: 20px;\n  display: flex;\n  justify-content: space-between;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),kt=ue.b.div(te||(te=Object(o.a)(["\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n  padding: 0.5rem 1.25rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  margin: 0 auto;\n  max-width: 50%;\n"]))),St=ue.b.div(ne||(ne=Object(o.a)(["\n  flex-grow: 2;\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 60%;\n  gap: 20px;\n  @media (max-width: 768px) {\n    max-width: 100%;\n    gap: 0;\n    justify-content: center;\n  }\n"]))),Et=ue.b.div(re||(re=Object(o.a)(["\n  flex-grow: 1;\n  max-height: 235px;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),Ct=ue.b.h2(ae||(ae=Object(o.a)(["\n  text-align: center;\n"]))),Ft=ue.b.div(ce||(ce=Object(o.a)(["\n  text-align: center;\n  min-height: 75px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Mt=Object(ue.b)(Ve.a.Label)(ie||(ie=Object(o.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n"]))),It=Object(ue.b)(Ve.a.Group)(oe||(oe=Object(o.a)(["\n  display: flex;\n  justify-content: flex-start;\n"]))),Nt=function(e){var t=e.changed,n=e.label,r=e.id,a=e.value;return Object(x.jsx)(It,{children:Object(x.jsxs)(Mt,{children:[n,Object(x.jsx)(Ve.a.Check,{id:r,onChange:t,checked:a||!1,name:r,type:"checkbox"})]})})},At=["createSubscriptions","deleteSubscriptions","updateSubscriptions"],Dt=["createMovies","deleteMovies","updateMovies"],Bt=function(e,t){var n=!1,r="";switch(console.log(e),e){case"username":""===t.trim()?(n=!0,r="Username cannot be empty"):/^[a-zA-Z ]+$/.test(t)?(n=!1,r=""):(n=!0,r="Invalid username. Please avoid Special characters");break;case"firstName":""===t.trim()?(n=!0,r="First name cannot be empty"):(n=!1,r="");break;case"lastName":""===t.trim()?(n=!0,r="Last name cannot be empty"):(n=!1,r="")}return{hasError:n,error:r}},Tt=function(e,t,n,r,a,c){if(At.includes(e)&&t)n({type:Ee,data:{name:"viewSubscriptions",value:!0,hasError:r,error:a,touched:!1,isFormValid:c}});else if(Dt.includes(e)&&t)n({type:Ee,data:{name:"viewMovies",value:!0,hasError:r,error:a,touched:!1,isFormValid:c}});else if("viewSubscriptions"!==e||t){if("viewMovies"===e&&!t){var i,o=Object(vt.a)(Dt);try{for(o.s();!(i=o.n()).done;){var s=i.value;n({type:Ee,data:{name:s,value:!1,hasError:r,error:a,touched:!1,isFormValid:c}})}}catch(b){o.e(b)}finally{o.f()}}}else{var l,d=Object(vt.a)(At);try{for(d.s();!(l=d.n()).done;){var u=l.value;n({type:Ee,data:{name:u,value:!1,hasError:r,error:a,touched:!1,isFormValid:c}})}}catch(b){d.e(b)}finally{d.f()}}},zt={firstName:{label:"First Name",value:"",type:"text",touched:!1,hasError:!0,error:""},lastName:{label:"Last Name",value:"",type:"text",touched:!1,hasError:!0,error:""},username:{label:"User Name",value:"",type:"text",touched:!1,hasError:!0,error:""},sessionTimeOut:{label:"Session time-out (In minutes)",value:"",type:"number",touched:!1,hasError:!0,error:""},viewSubscriptions:{label:"View Subscriptions",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},createSubscriptions:{label:"Create Subscriptions",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},deleteSubscriptions:{label:"Delete Subscriptions",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},updateSubscriptions:{label:"Update Subscriptions",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},viewMovies:{label:"View Movies",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},createMovies:{label:"Create Movies",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},deleteMovies:{label:"Delete Movies",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},updateMovies:{label:"Update Movies",value:!1,type:"checkbox",touched:!1,hasError:!0,error:""},isFormValid:!1},Vt=function(e){var t=e.token,n=e.url,a=e.buttonText,c=e.headerText,i=e.userData,o=Ae(zt),s=Object(r.useReducer)(o,zt),b=Object(u.a)(s,2),j=b[0],p=b[1],O=Object(r.useState)(Ne),m=Object(u.a)(O,2),f=m[0],v=m[1],g=Object(r.useState)(""),w=Object(u.a)(g,2),y=w[0],k=w[1],S=Object(r.useState)(!1),E=Object(u.a)(S,2),C=E[0],F=E[1],M=De(Bt,Tt),I=Be(Bt),N=function(){var e=Object(d.a)(l.a.mark((function e(r){var a,c,i,o,s,d,u,b,x,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in r.preventDefault(),v(Fe),a=!0,e.prev=3,j)i=j[c],o=i.value,s=Bt(c,o),d=s.hasError,u=s.error,d&&(a=!1),c&&p({type:Ee,data:{name:c,value:o,hasError:d,error:u,touched:!0,isFormValid:a}});if(a){e.next=10;break}F(!0),setTimeout((function(){F(!1)}),5e3),e.next=17;break;case 10:for(x in b={},j)b[x]=j[x].value;return e.next=14,h.post(n,b,{headers:{Authorization:"Barer ".concat(t)}});case 14:O=e.sent,v(Me),k(O.data.message);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),v(Ie),k(e.t0.response.data.message);case 23:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(i){var e,t=i.permissions,n=Object(vt.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;i[r]=!0}}catch(o){n.e(o)}finally{n.f()}for(var a in i)if(Object.hasOwnProperty.call(i,a)){var c=i[a];p({type:Ee,data:{value:c,name:a,touched:!0,isFormValid:!0}})}}}),[i]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ze,{status:f,setStatus:v,message:y}),Object(x.jsxs)(gt,{children:[Object(x.jsx)(Ct,{children:c}),Object(x.jsx)(Ft,{children:C&&!j.isFormValid&&Object(x.jsx)(kt,{children:"Please fill all the fields correctly"})}),Object(x.jsxs)(wt,{children:[Object(x.jsxs)(yt,{children:[Object(x.jsx)(St,{children:Object.keys(j).map((function(e){return("text"===j[e].type||"number"===j[e].type)&&Object(x.jsx)(_e,{changed:function(t){return M(e,t.target.value,p,j)},id:e,data:j[e],onFocusOut:function(t){return I(e,t.target.value,p,j)}},e)}))}),Object(x.jsx)(Et,{children:Object.keys(j).map((function(e){return"checkbox"===j[e].type&&Object(x.jsx)(Nt,{id:e,value:j[e].value,label:j[e].label,changed:function(t){return M(e,t.target.checked,p,j)},onFocusOut:I},e)}))})]}),Object(x.jsx)(we,{type:"submit",onClick:N,children:a})]})]})]})},Ut=function(e){var t=e.token;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Vt,{token:t,url:"/add-user",buttonText:"Add User",headerText:"New User"})})},Pt=function(e){var t=e.token,n=e.users[Object(le.h)().userIndex];return console.log("sss"),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Vt,{token:t,url:"/update-user",buttonText:"Update user",userData:n,headerText:"Edit User"})})},Lt=ue.b.div(se||(se=Object(o.a)(["\n  padding-inline: 50px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  padding-inline: 50px;\n  grid-row: 1/1;\n  grid-column: 1/1;\n  @media (max-width: 768px) {\n    width: 100%;\n    padding: 10px;\n    justify-content: space-between;\n    flex: 1;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n  }\n"]))),_t=function(){var e=Object(le.i)(),t=e.path,n=e.url,a=m().authDetails,c=Object(r.useState)(null),i=Object(u.a)(c,2),o=i[0],s=i[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Lt,{children:[Object(x.jsx)(ve,{to:"".concat(n),activeClassName:"active",exact:!0,children:"All users"}),Object(x.jsx)(ve,{to:"".concat(n,"/add-user"),activeClassName:"active",children:"Add user"})]}),Object(x.jsxs)(le.d,{children:[Object(x.jsx)(qe,{path:t,exact:!0,children:Object(x.jsx)(ft,{token:a.token,users:o,setUsers:s})}),Object(x.jsx)(qe,{path:"".concat(t,"/edit-user/:userIndex"),children:Object(x.jsx)(Pt,{token:a.token,users:o})}),Object(x.jsx)(qe,{path:"".concat(t,"/add-user"),children:Object(x.jsx)(Ut,{token:a.token})})]})]})},Rt=n(43);function Gt(e,t){var n=e.name.toUpperCase(),r=t.name.toUpperCase();return n<r?-1:n>r?1:0}var Ht,Kt,Wt,Zt,Jt,$t,qt,Qt,Xt,Yt,en,tn=a.a.createContext(),nn=function(){return Object(r.useContext)(tn)},rn=function(e){var t=e.children,n=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(u.a)(c,2),o=i[0],s=i[1],b=Object(r.useState)([]),j=Object(u.a)(b,2),x=j[0],p=j[1],O=m().authDetails,f=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.token,e.next=4,h.get("/all-movies",{headers:{Authorization:"Barer ".concat(t)}});case 4:n=e.sent,a(n.data),r=Object(Rt.a)(new Set(n.data.map((function(e){return e.genres})).flat(1))),s(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[a,O.token]),v=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post("/add-movie",t,{headers:{Authorization:"Barer ".concat(O.token)}});case 3:return n=e.sent,f(),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new Error(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post("/edit-movie",t,{headers:{Authorization:"Barer ".concat(O.token)}});case 3:return n=e.sent,f(),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.delete("delete-movie/".concat(t),{headers:{Authorization:"Barer ".concat(O.token)}});case 3:return n=e.sent,f(),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return n.find((function(t){return t._id===e}))},k=function(e,t){var r=Array.from(n);e&&(r=S(e,r)),t&&(r=E(t,r)),p(r)},S=function(e,t){var n=t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));return n.sort(Gt),n},E=function(e,t){var n=t.filter((function(t){return e.every((function(e){return t.genres.includes(e)}))}));return n.sort(Gt),n};return Object(r.useEffect)((function(){f()}),[f]),Object(r.useEffect)((function(){n.length>0&&(n.sort(Gt),p(n))}),[n]),{filterShows:k,filteredShows:x,setFilteredShows:p,allGenres:o,addNewShow:v,editShow:g,deleteShow:w,getShowById:y,initShows:n}}();return Object(x.jsx)(tn.Provider,{value:n,children:t})};var an=ue.b.div(Ht||(Ht=Object(o.a)(["\n  margin-inline: 2%;\n  margin-bottom: 5%;\n  width: 20%;\n  position: relative;\n  box-shadow: 0px 0px 2px 2px rgb(0 0 0 / 29%);\n  height: fit-content;\n  @media (max-width: 768px) {\n    width: 100%;\n    margin-bottom: 15%;\n  }\n"]))),cn=Object(ue.b)(de.b)(Kt||(Kt=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  transition: all 0.15s;\n  color: whitesmoke;\n\n  &:hover {\n    transform: scale(1.05);\n    text-decoration: none;\n    color: whitesmoke;\n  }\n"]))),on=ue.b.div(Wt||(Wt=Object(o.a)(["\n  padding: 10px;\n"]))),sn=ue.b.div(Zt||(Zt=Object(o.a)(["\n  color: whitesmoke;\n  font-weight: 700;\n  margin-block: 5px;\n"]))),ln=ue.b.div(Jt||(Jt=Object(o.a)([""]))),dn=ue.b.img($t||($t=Object(o.a)(["\n  object-fit: contain;\n"]))),un=ue.b.small(qt||(qt=Object(o.a)(["\n  color: hsl(0deg 0% 56%);\n"]))),bn=ue.b.div(Qt||(Qt=Object(o.a)(["\n  border-radius: 30px;\n  background-color: orange;\n  position: absolute;\n  width: 70px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: auto;\n  margin-right: auto;\n  inset-inline: 0;\n  inset-block-start: -20px;\n  color: whitesmoke;\n  font-weight: 500;\n  background: linear-gradient(\n    180deg,\n    rgba(222, 86, 0, 1) 0%,\n    rgba(252, 176, 69, 1) 100%\n  );\n"]))),jn=ue.b.div(Xt||(Xt=Object(o.a)(["\n  padding: 5px;\n"]))),hn=ue.b.div(Yt||(Yt=Object(o.a)([""]))),xn=Object(ue.b)(de.b)(en||(en=Object(o.a)(["\n  background-color: #1f2c383d;\n  border-radius: 3px;\n  padding: 5px;\n  color: whitesmoke;\n  border: 1px solid #333333;\n  display: flex;\n  justify-content: space-between;\n  transition: all 0.2s;\n  &:hover {\n    color: darkcyan;\n    background-color: hsl(209deg 29% 10% / 24%);\n  }\n"]))),pn=a.a.createContext(),On=function(){return Object(r.useContext)(pn)},mn=function(e){var t=e.children,n=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=m().authDetails,i=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.token,e.next=4,h.get("/all-subscriptions",{headers:{Authorization:"Barer ".concat(t)}});case 4:n=e.sent,a(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[a,c.token]),o=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post("/add-subscription",t,{headers:{Authorization:"Barer ".concat(c.token)}});case 3:return n=e.sent,i(),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new Error(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.delete("delete-subscription/".concat(t),{headers:{Authorization:"Barer ".concat(c.token)}});case 3:return n=e.sent,i(),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[i]),{allSubscriptions:n,setAllSubscriptions:a,addNewSubscription:o,deleteSubscription:s}}();return Object(x.jsx)(pn.Provider,{value:n,children:t})};var fn=a.a.createContext(),vn=function(){return Object(r.useContext)(fn)},gn=function(e){var t=e.children,n=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=m().authDetails,i=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.token,e.next=4,h.get("/all-members",{headers:{Authorization:"Barer ".concat(t)}});case 4:n=e.sent,a(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[a,c.token]),o=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("data",t),e.next=4,h.post("/add-new-member",t,{headers:{Authorization:"Barer ".concat(c.token)}});case 4:return n=e.sent,i(),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new Error(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post("/edit-member",t,{headers:{Authorization:"Barer ".concat(c.token)}});case 3:return n=e.sent,i(),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.delete("delete-member/".concat(t),{headers:{Authorization:"Barer ".concat(c.token)}});case 3:return n=e.sent,i(),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){return n.find((function(t){return t._id===e}))};return Object(r.useEffect)((function(){i()}),[i]),{allMembers:n,setAllMembers:a,addNewMember:o,editMember:s,deleteMember:b,getMemberById:j}}();return Object(x.jsx)(fn.Provider,{value:n,children:t})};var wn,yn,kn,Sn,En,Cn,Fn,Mn,In,Nn,An,Dn,Bn,Tn,zn,Vn,Un,Pn,Ln,_n,Rn,Gn,Hn,Kn,Wn,Zn,Jn,$n,qn,Qn,Xn,Yn,er,tr,nr,rr,ar,cr,ir,or,sr,lr,dr,ur,br,jr,hr,xr,pr,Or,mr,fr,vr,gr,wr,yr,kr,Sr,Er,Cr=function(e){var t=e.show,n=Object(le.i)().path,r=m().authDetails,a=On().allSubscriptions,c=vn().getMemberById,i=[];return r.permissions.includes("viewSubscriptions")&&a.forEach((function(e){var n=e.movies.find((function(e){return e.movieId===t._id}));n&&i.push({date:n.date,member:c(e.memberId)})})),Object(x.jsxs)(an,{children:[Object(x.jsxs)(cn,{to:"".concat(n,"/").concat(t._id),children:[Object(x.jsxs)(ln,{children:[Object(x.jsx)(bn,{children:t.rating}),Object(x.jsx)(dn,{width:"100%",height:"280",src:"".concat(t.image)})]}),Object(x.jsxs)(on,{children:[Object(x.jsx)(sn,{children:t.name}),Object(x.jsx)(un,{children:t.genres.join(", ")})]})]}),r.permissions.includes("viewSubscriptions")&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)(jn,{children:[Object(x.jsx)("h6",{children:"Subscribers"}),Object(x.jsx)(hn,{children:i.map((function(e){return Object(x.jsxs)(xn,{to:"/main/members/",children:[Object(x.jsx)("span",{children:e.member.name}),Object(x.jsx)(un,{children:e.date})]},e.member._id)}))})]})]})]})},Fr=ue.b.div(wn||(wn=Object(o.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  overflow: auto;\n  padding-top: 50px;\n  width: 100%;\n  background: linear-gradient(#121417 0%, rgba(255, 255, 255, 0) 100%),\n    linear-gradient(rgba(255, 255, 255, 0), #121417 70%) 0 100%,\n    radial-gradient(farthest-side at 50% 0, rgb(0 0 0 / 69%), rgb(0 0 0 / 0%)),\n    radial-gradient(\n        farthest-side at 50% 100%,\n        rgba(0, 0, 0, 0.2),\n        rgba(0, 0, 0, 0)\n      )\n      0 100%;\n  background-repeat: no-repeat;\n  background-color: transparent;\n  background-size: 100% 40px, 100% 40px, 100% 40px, 100% 14px;\n\n  /* Opera doesn't support this in the shorthand */\n  background-attachment: local, local, scroll, scroll;\n"]))),Mr=ue.b.div(yn||(yn=Object(o.a)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n"]))),Ir=(ue.b.div(kn||(kn=Object(o.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),ue.b.div(Sn||(Sn=Object(o.a)(["\n  flex-grow: 2;\n"]))),function(){var e=nn().filteredShows,t=Object(r.useRef)(null),n=Object(r.useRef)(null),a=Object(r.useState)(0),c=Object(u.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)([]),l=Object(u.a)(s,2),d=l[0],b=l[1],j=Object(r.useState)(!0),h=Object(u.a)(j,2),p=h[0],O=h[1],m=d.length<e.length,f=Object(r.useCallback)((function(){if(m){var t=Array.from(e).slice(20*i,20*(i+1));b((function(e){return[].concat(Object(Rt.a)(e),Object(Rt.a)(t))})),setTimeout((function(){o((function(e){return e+1}))}),100)}}),[e,i,m]),v=Object(r.useCallback)((function(e){e[0].isIntersecting&&f()}),[f]);return Object(r.useEffect)((function(){o(0),b([]),O(!0)}),[e]),Object(r.useEffect)((function(){if(t.current&&n.current){var e=t.current,r={root:n.current,rootMargin:"20px",threshold:1},a=new IntersectionObserver(v,r);return a.observe(e),function(){return a.unobserve(e)}}}),[t,v]),Object(r.useEffect)((function(){p&&(f(),O(!1))}),[f,p]),d.length>0?Object(x.jsx)(Mr,{children:Object(x.jsxs)(Fr,{ref:n,children:[d.map((function(e,t){return Object(x.jsx)(Cr,{show:e},e._id)})),Object(x.jsx)("div",{ref:t})]})}):Object(x.jsx)("div",{children:"SPINNER!!"})}),Nr=ue.b.div(En||(En=Object(o.a)(["\n  max-width: 90%;\n  margin: auto;\n  padding-block: 20px;\n  background-color: #1f2c383d;\n  border-radius: 20px;\n  @media (max-width: 768px) {\n    max-height: 65vh;\n    overflow-y: auto;\n    max-width: 100%;\n  }\n"]))),Ar=ue.b.form(Cn||(Cn=Object(o.a)(["\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n"]))),Dr=ue.b.div(Fn||(Fn=Object(o.a)(["\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n  padding: 0.5rem 1.25rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  margin: 0 auto;\n  max-width: 50%;\n"]))),Br=ue.b.h2(Mn||(Mn=Object(o.a)(["\n  text-align: center;\n"]))),Tr=ue.b.div(In||(In=Object(o.a)(["\n  text-align: center;\n  min-height: 75px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),zr=ue.b.div(Nn||(Nn=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),Vr=ue.b.div(An||(An=Object(o.a)([""]))),Ur=ue.b.div(Dn||(Dn=Object(o.a)([""]))),Pr=ue.b.div(Bn||(Bn=Object(o.a)(["\n  display: flex;\n  justify-content: space-around;\n  min-width: 90%;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    max-width: 100%;\n    align-items: center;\n  }\n"]))),Lr=ue.b.div(Tn||(Tn=Object(o.a)(["\n  color: red;\n"]))),_r=Object(ue.b)(Ve.a.Label)(zn||(zn=Object(o.a)(["\n  margin-bottom: 0;\n  width: 100%;\n"]))),Rr=Object(ue.b)(Ve.a.Group)(Vn||(Vn=Object(o.a)(["\n  width: 350px;\n  height: 100%;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),Gr=function(e){var t=e.changed,n=e.data,r=e.id,a=e.onFocusOut,c=n.value,i=n.type,o=n.error,s=n.touched,l=n.label,d=n.hasError;return Object(x.jsxs)(Rr,{children:[Object(x.jsxs)(_r,{children:[l,Object(x.jsx)(Ve.a.Control,{id:r,onChange:t,value:c||"",name:r,type:i,onBlur:a,as:"textarea",rows:8})]}),s&&d&&Object(x.jsx)(Lr,{className:"error",children:o})]})},Hr=function(e,t){var n=!1,r="";switch(e){case"name":""===t.trim()?(n=!0,r="Username cannot be empty"):(n=!1,r="");break;case"genres":0===t.length?(n=!0,r="Genres can not be empty"):t.length>6?(n=!0,r="Please select up to 6 Genres"):(n=!1,r="");break;case"image":""===t.trim()?(n=!0,r="Image cannot be empty"):(n=!1,r="");break;case"premiered":""===t.trim()?(n=!0,r="Premiered date cannot be empty"):(n=!1,r="");break;case"summary":""===t.trim()?(n=!0,r="Summary cannot be empty"):(n=!1,r="");break;case"rating":""===t.toString().trim()?(n=!0,r="Rating cannot be empty"):(n=!1,r="")}return{hasError:n,error:r}},Kr={name:{label:"Name",value:"",type:"text",touched:!1,hasError:!0,error:""},premiered:{label:"Premiered",value:"",type:"date",touched:!1,hasError:!0,error:""},rating:{label:"Rating",value:0,type:"number",touched:!1,hasError:!0,error:""},image:{label:"Image url",value:"",type:"text",touched:!1,hasError:!0,error:""},genres:{label:"Genres",value:"",type:"text",touched:!1,hasError:!0,error:""},summary:{label:"Summary",value:"",type:"textarea",touched:!1,hasError:!0,error:""},isFormValid:!1},Wr=n(50),Zr=ue.b.div(Un||(Un=Object(o.a)(["\n  color: lightgray;\n"]))),Jr=ue.b.div(Pn||(Pn=Object(o.a)(["\n  color: red;\n"]))),$r=Object(ue.b)(Ve.a.Label)(Ln||(Ln=Object(o.a)(["\n  margin-bottom: 0;\n  width: 100%;\n"]))),qr=Object(ue.b)(Ve.a.Group)(_n||(_n=Object(o.a)(["\n  width: ","px;\n"])),(function(e){return e.width||250})),Qr={control:function(e){return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:"whitesmoke"})},option:function(e,t){var n=t.isSelected,r=t.isFocused;return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:r?"hsl(249deg 43% 46%/ 10%)":null,color:"hsl(249deg 43% 46%)",":active":Object(b.a)(Object(b.a)({},e[":active"]),{},{backgroundColor:n?"hsl(249deg 43% 46%)":"hsl(249deg 43% 20%)"})})},multiValue:function(e){return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:"hsl(249deg 43% 46% / 15%)"})},multiValueLabel:function(e){return Object(b.a)(Object(b.a)({},e),{},{color:"hsl(249deg 43% 46%)"})},multiValueRemove:function(e){return Object(b.a)(Object(b.a)({},e),{},{color:"hsl(249deg 43% 46%)",":hover":{backgroundColor:"hsl(249deg 43% 46%)",color:"white"}})}},Xr=function(e){var t=e.options,n=e.changed,a=e.data,c=e.id,i=e.onFocusOut,o=e.width,s=e.maxOptions,l=e.initialGenres,d=Object(r.useState)([]),b=Object(u.a)(d,2),j=b[0],h=b[1],p=Object(r.useRef)(null),O=Object(r.useState)([]),m=Object(u.a)(O,2),f=m[0],v=m[1],g=a.error,w=a.touched,y=a.label,k=a.hasError;return Object(r.useEffect)((function(){var e=t.map((function(e){return e&&e.value?e:{value:e,label:e}}));v(e)}),[t]),Object(r.useEffect)((function(){h(l)}),[l]),Object(x.jsxs)(qr,{width:o,children:[Object(x.jsxs)($r,{children:[y,Object(x.jsx)(Wr.a,{ref:p,isMulti:!0,onChange:function(e){var t=e.map((function(e){return e.value}));n(t),h(e)},options:j.length>=s?null:f,styles:Qr,id:c,closeMenuOnSelect:!1,name:c,onBlur:function(){i(j)},value:j,noOptionsMessage:function(){return"Maximum number of genres selected"}})]}),j.length>=s&&Object(x.jsx)(Zr,{children:"Maximum number of genres selected"}),w&&k&&Object(x.jsx)(Jr,{children:g})]})},Yr=["name","genres","image"],ea=["premiered","rating"],ta=function(e){var t=e.action,n=e.buttonText,c=e.headerText,i=e.showData,o=Ae(Kr),s=Object(r.useReducer)(o,Kr),b=Object(u.a)(s,2),j=b[0],h=b[1],p=Object(r.useState)(Ne),O=Object(u.a)(p,2),m=O[0],f=O[1],v=Object(r.useState)(""),g=Object(u.a)(v,2),w=g[0],y=g[1],k=Object(r.useState)(!1),S=Object(u.a)(k,2),E=S[0],C=S[1],F=Object(r.useState)([]),M=Object(u.a)(F,2),I=M[0],N=M[1],A=De(Hr),D=Be(Hr),B=nn().allGenres,T=function(){var e=Object(d.a)(l.a.mark((function e(n){var r,a,c,i,o,s,d,u,b,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n.preventDefault(),f(Fe),r=!0,e.prev=3,j)c=j[a],i=c.value,o=Hr(a,i),s=o.hasError,d=o.error,s&&(r=!1),a&&h({type:Ee,data:{name:a,value:i,hasError:s,error:d,touched:!0,isFormValid:r}});if(r){e.next=9;break}C(!0),e.next=16;break;case 9:for(b in u={},j)"genres"===b&&"string"!==typeof j[b].value[0]?u[b]=j[b].value.map((function(e){return e.value})):u[b]=j[b].value;return e.next=13,t(u);case 13:x=e.sent,f(Me),y(x.data.message);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),f(Ie),console.log(e.t0.message),y(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(i)for(var e in i)if(Object.hasOwnProperty.call(i,e)){var t=i[e];if(h({type:Ee,data:{value:t,name:e,touched:!0,isFormValid:!0}}),"genres"===e){var n=i[e].map((function(e){return e&&e.value?e:{value:e,label:e}}));N(n)}}}),[i]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ze,{status:m,setStatus:f,message:w}),Object(x.jsxs)(Nr,{children:[Object(x.jsx)(Br,{children:c}),Object(x.jsx)(Tr,{children:E&&!j.isFormValid&&Object(x.jsx)(Dr,{children:"Please fill all the fields correctly"})}),Object(x.jsxs)(Ar,{children:[Object(x.jsxs)(Pr,{children:[Object(x.jsx)(Vr,{children:Object.keys(j).map((function(e){return Yr.includes(e)&&Object(x.jsx)(a.a.Fragment,{children:"genres"===e?Object(x.jsx)(Xr,{options:B,data:j[e],initialGenres:I,id:e,changed:function(t){return A(e,t,h,j)},onFocusOut:function(t){return D(e,t,h,j)},isMulti:!0,maxOptions:5},e):Object(x.jsx)(_e,{changed:function(t){return A(e,t.target.value,h,j)},id:e,data:j[e],onFocusOut:function(t){return D(e,t.target.value,h,j)}},e)},e)}))}),Object(x.jsx)(Ur,{children:Object.keys(j).map((function(e){return ea.includes(e)&&Object(x.jsx)(_e,{changed:function(t){return A(e,t.target.value,h,j)},id:e,data:j[e],onFocusOut:function(t){return D(e,t.target.value,h,j)}},e)}))}),Object(x.jsx)(zr,{children:Object.keys(j).map((function(e){return"summary"===e&&Object(x.jsx)(Gr,{changed:function(t){return A(e,t.target.value,h,j)},id:e,data:j[e],onFocusOut:function(t){return D(e,t.target.value,h,j)}},e)}))})]}),Object(x.jsx)(we,{type:"submit",onClick:T,disabled:!j.isFormValid,children:n})]})]})]})},na=function(){var e=nn().addNewShow;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ta,{action:e,buttonText:"Add Show",headerText:"New Show"})})},ra=function(){var e=Object(le.h)().showId,t=nn(),n=t.initShows,r=t.editShow,a=n.find((function(t){return t._id===e}));return Object(x.jsx)("div",{children:Object(x.jsx)(ta,{action:r,buttonText:"Update Show",headerText:"Edit Show",showData:a})})},aa=ue.b.div(Rn||(Rn=Object(o.a)(["\n  width: 100%;\n  display: flex;\n  padding: 20px;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: center;\n    padding: 0;\n  }\n"]))),ca=ue.b.div(Gn||(Gn=Object(o.a)(["\n  height: 30%;\n"]))),ia=ue.b.img(Hn||(Hn=Object(o.a)(["\n  object-fit: contain;\n  min-width: 0;\n  min-height: 0;\n  flex: 1 1 30%;\n  max-width: 40%;\n"]))),oa=ue.b.h2(Kn||(Kn=Object(o.a)(["\n  color: whitesmoke;\n  font-size: 3rem;\n"]))),sa=ue.b.div(Wn||(Wn=Object(o.a)(["\n  color: whitesmoke;\n  padding-inline: 30px;\n  flex: 1 1 70%;\n\n  @media (max-width: 768px) {\n    overflow: auto;\n    max-height: 40vh;\n    margin-top: 22px;\n  }\n"]))),la=ue.b.div(Zn||(Zn=Object(o.a)(["\n  color: whitesmoke;\n  overflow: auto;\n  height: 70%;\n"]))),da=ue.b.div(Jn||(Jn=Object(o.a)(["\n  display: flex;\n  gap: 50px;\n  margin-block: 15px;\n  align-items: center;\n  @media (max-width: 768px) {\n    gap: 10px;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n"]))),ua=ue.b.div($n||($n=Object(o.a)(["\n  color: hsl(0deg 0% 56%);\n"]))),ba=ue.b.div(qn||(qn=Object(o.a)(["\n  border-radius: 30px;\n  background-color: orange;\n  width: 70px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 500;\n\n  background: linear-gradient(\n    180deg,\n    rgba(222, 86, 0, 1) 0%,\n    rgba(252, 176, 69, 1) 100%\n  );\n"]))),ja=function(){var e=nn(),t=e.deleteShow,n=e.getShowById,a=Object(le.h)().showId,c=Object(le.i)().url,i=Object(r.useState)(null),o=Object(u.a)(i,2),s=o[0],b=o[1],j=Object(le.g)(),h=m().authDetails,p=function(){var e=Object(d.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n);case 3:r=e.sent,j.push("/main/shows"),console.log(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=n(a);b(e)}),[a,n]),s?Object(x.jsxs)(aa,{children:[Object(x.jsx)(ia,{src:s.image}),Object(x.jsxs)(sa,{children:[Object(x.jsxs)(ca,{children:[Object(x.jsx)(oa,{children:s.name}),Object(x.jsxs)(da,{children:[Object(x.jsx)(ua,{children:s.genres.join(", ")}),Object(x.jsx)(ba,{children:s.rating}),h.permissions.includes("updateMovies")&&Object(x.jsxs)(ke,{to:"".concat(c,"/edit"),BColor:"darkcyan",children:[Object(x.jsx)(st.a,{path:lt.a,title:"User Profile",size:1}),"Edit"]}),h.permissions.includes("deleteMovies")&&Object(x.jsxs)(ye,{onClick:function(){return p(a)},BColor:"#522a2a",children:[Object(x.jsx)(st.a,{path:lt.b,title:"User Profile",size:1}),"Delete"]})]})]}),Object(x.jsx)(la,{dangerouslySetInnerHTML:{__html:s.summary}})]})]}):Object(x.jsx)("div",{children:"SPINNER!!"})},ha=ue.b.div(Qn||(Qn=Object(o.a)(["\n  display: flex;\n  gap: 20px;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    margin-block: 10px;\n  }\n"]))),xa=ue.b.div(Xn||(Xn=Object(o.a)(["\n  display: grid;\n  grid-template-columns: auto 2.5rem;\n  align-items: center;\n"]))),pa=Object(ue.b)(st.a)(Yn||(Yn=Object(o.a)(["\n  grid-row: 1;\n  grid-column: 2;\n  pointer-events: none;\n"]))),Oa=(Object(ue.b)(Ve.a.Label)(er||(er=Object(o.a)([""]))),Object(ue.b)(Ve.a.Group)(tr||(tr=Object(o.a)(["\n  width: ",";\n"])),(function(e){return e.width||250})),Object(ue.b)(Ve.a.Control)(nr||(nr=Object(o.a)(["\n  grid-row: 1;\n  grid-column: 1 / span 2;\n  width: 350px;\n  background-color: transparent;\n  border: none;\n  border: 1px solid transparent;\n  border-bottom: 1px solid #333333;\n  transition: 0.2s all;\n  grid-row: 1;\n  grid-column: 1 / span 2;\n  @media (max-width: 768px) {\n    width: 300px;\n  }\n  &:focus,\n  &:focus-visible,\n  &:hover {\n    color: whitesmoke;\n    background-color: hsl(209deg 15% 8%);\n    outline: 0;\n    box-shadow: 0px 0px 4px 2px rgb(0 0 0 / 100%);\n    border: 1px solid #333333;\n  }\n"])))),ma=ue.b.div(rr||(rr=Object(o.a)(["\n  min-width: 300px;\n  max-width: 500px;\n  @media (max-width: 768px) {\n    max-width: 300px;\n  }\n"]))),fa={control:function(e,t){t.isFocused;return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:"transparent",borderColor:"#333333",":hover":{borderColor:"#333333",boxShadow:"0px 0px 4px 2px rgb(0 0 0 / 100%)"},":active":{borderColor:"#333333",boxShadow:"0px 0px 4px 2px rgb(0 0 0 / 100%)"},":focus":{borderColor:"#333333",boxShadow:"0px 0px 4px 2px rgb(0 0 0 / 100%)"},":focus-within":{borderColor:"#333333",boxShadow:"0px 0px 4px 2px rgb(0 0 0 / 100%)"}})},option:function(e,t){var n=t.isSelected,r=t.isFocused;return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:r?"hsl(249deg 43% 46%/ 10%)":null,color:"hsl(249deg 43% 46%)",":active":Object(b.a)(Object(b.a)({},e[":active"]),{},{backgroundColor:n?"hsl(249deg 43% 46%)":"hsl(249deg 43% 20%)"})})},dropdownIndicator:function(e){return Object(b.a)(Object(b.a)({},e),{},{color:"#333333"})},clearIndicator:function(e){return Object(b.a)(Object(b.a)({},e),{},{color:"#333333"})},indicatorSeparator:function(e){return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:"#333333"})},multiValue:function(e){return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:"hsl(249deg 43% 46% / 15%)"})},multiValueLabel:function(e){return Object(b.a)(Object(b.a)({},e),{},{color:"hsl(249deg 43% 46%)"})},multiValueRemove:function(e){return Object(b.a)(Object(b.a)({},e),{},{color:"hsl(249deg 43% 46%)",":hover":{backgroundColor:"hsl(249deg 43% 46%)",color:"white"}})}},va=n(127),ga=function(){var e=nn(),t=e.allGenres,n=e.filterShows,a=Object(r.useState)([]),c=Object(u.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)([]),l=Object(u.a)(s,2),d=l[0],b=l[1],j=Object(r.useState)(""),h=Object(u.a)(j,2),p=h[0],O=h[1],m=Object(r.useState)([]),f=Object(u.a)(m,2),v=f[0],g=f[1],w=Object(r.useState)(!0),y=Object(u.a)(w,2),k=y[0],S=y[1];return Object(r.useEffect)((function(){var e=t.map((function(e){return e&&e.value?e:{value:e,label:e}}));o(e)}),[t]),Object(r.useEffect)((function(){k&&(n("",""),S(!1))}),[n,k]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(va.a.Collapse,{eventKey:"0",children:Object(x.jsxs)(ha,{children:[Object(x.jsxs)(xa,{children:[Object(x.jsx)(Oa,{placeholder:"Search Shows...",onChange:function(e){e.preventDefault();var t=e.target.value;O(t),n(t,v)}}),Object(x.jsx)(pa,{path:lt.c,title:"User Profile",size:1,color:"hsl(0deg 0% 44%)"})]}),Object(x.jsx)(ma,{children:Object(x.jsx)(Wr.a,{isMulti:!0,onChange:function(e){var t=e.map((function(e){return e.value}));g(t),n(p,t),b(e)},options:i,styles:fa,closeMenuOnSelect:!1,value:d})})]})})})},wa=n(74),ya=ue.b.div(ar||(ar=Object(o.a)(["\n  width: 100%;\n  display: flex;\n  @media (max-width: 768px) {\n    flex-wrap: wrap;\n  }\n"]))),ka=Object(ue.b)(va.a.Toggle)(cr||(cr=Object(o.a)(["\n  ","\n  background-color: transparent;\n  border: none;\n"])),fe),Sa=function(){var e=Object(le.i)(),t=e.path,n=e.url,r=m().authDetails,a=Object(wa.useMediaQuery)({query:"(max-width: 1224px)"});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(va.a,{defaultActiveKey:!a&&"0",children:Object(x.jsx)(Lt,{children:Object(x.jsxs)(ya,{children:[Object(x.jsx)(ve,{to:"".concat(n),activeClassName:"active",exact:!0,children:"All shows"}),r.permissions.includes("createMovies")&&Object(x.jsx)(ve,{to:"".concat(n,"/add-show"),activeClassName:"active",children:"Add show"}),Object(x.jsxs)(le.b,{path:t,exact:!0,children:[a&&Object(x.jsx)(ka,{eventKey:"0",children:"Search Tools"}),Object(x.jsx)(ga,{})]})]})})}),Object(x.jsxs)(le.d,{children:[Object(x.jsx)(qe,{path:t,exact:!0,children:Object(x.jsx)(Ir,{})}),r.permissions.includes("viewSubscriptions")&&Object(x.jsx)(qe,{path:"".concat(t,"/add-show"),exact:!0,children:Object(x.jsx)(na,{})}),r.permissions.includes("viewSubscriptions")&&Object(x.jsx)(qe,{path:"".concat(t,"/:showId/edit"),children:Object(x.jsx)(ra,{})}),r.permissions.includes("viewMovies")&&Object(x.jsx)(qe,{path:"".concat(t,"/:showId"),children:Object(x.jsx)(ja,{})})]})]})},Ea=ue.b.div(ir||(ir=Object(o.a)(["\n  padding: 5px;\n  height: 55%;\n"]))),Ca=(ue.b.h5(or||(or=Object(o.a)([""]))),Object(ue.b)(de.c)(sr||(sr=Object(o.a)(["\n  background-color: #1f2c383d;\n  border-radius: 5px;\n  border: 1px solid #333333;\n  color: inherit;\n  width: 100%;\n  display: block;\n  text-align: center;\n  padding: 6px;\n  transition: 0.2s all;\n  &:hover {\n    color: darkcyan;\n    background-color: #1f2c3800;\n  }\n"])))),Fa=ue.b.div(lr||(lr=Object(o.a)(["\n  padding: 5px;\n  height: 85%;\n  overflow-y: auto;\n  border: 1px solid #3e3e3e54;\n"]))),Ma=ue.b.div(dr||(dr=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Ia=n(128),Na=Object(ue.b)(Ia.a)(ur||(ur=Object(o.a)(["\n  max-width: 400px;\n  width: 100%;\n  height: 100%;\n  max-height: 450px;\n  background-color: hsl(218deg 15% 8%);\n  border: 1px solid #415858;\n  @media (max-width: 768px) {\n    width: 95%;\n  }\n"]))),Aa=Object(ue.b)(Ia.a.Content)(br||(br=Object(o.a)(["\n  overflow-y: auto;\n  height: calc(90% - 1px);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: hsl(218deg 15% 8%);\n  color: whitesmoke;\n"]))),Da=Object(ue.b)(Ia.a.Title)(jr||(jr=Object(o.a)(["\n  background-color: hsl(216deg 13% 14%);\n  color: whitesmoke;\n  border-bottom: 1px solid #2d2d2d;\n  height: 10%;\n"]))),Ba=a.a.forwardRef((function(e,t){return Object(x.jsxs)(Na,Object(b.a)(Object(b.a)({ref:t,id:e.id},e),{},{onBlur:function(){return e.handleOutsideClick},children:[Object(x.jsx)(Da,{children:e.title}),Object(x.jsx)(Aa,{children:e.children})]}))})),Ta=n(124),za=ue.b.button(hr||(hr=Object(o.a)(["\n  background-color: #1f2c383d;\n  border-radius: 5px;\n  border: 1px solid #333333;\n  color: inherit;\n  width: 100%;\n  display: block;\n  text-align: center;\n  padding: 6px;\n  transition: 0.2s all;\n  &:hover {\n    color: darkcyan;\n    background-color: #1f2c3800;\n  }\n"]))),Va=ue.b.h5(xr||(xr=Object(o.a)(["\n  text-align: center;\n"]))),Ua=ue.b.div(pr||(pr=Object(o.a)(["\n  display: flex;\n"]))),Pa=ue.b.div(Or||(Or=Object(o.a)(["\n  flex: 1 1 50%;\n  max-width: 50%;\n"]))),La=ue.b.div(mr||(mr=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"])));function _a(e){var t=e.member,n=e.onSubmit,a=nn().initShows,c=Object(r.useState)(a),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),b=d[0],j=d[1],h=Object(r.useState)((new Date).toLocaleDateString("en-CA")),p=Object(u.a)(h,2),O=p[0],m=p[1],f=On().addNewSubscription,v=Object(r.useState)(null),g=Object(u.a)(v,2),w=g[0],y=g[1],k={value:b,label:"Search a show",type:"text"},S={value:O,label:"Pick a date",type:"date"};return Object(x.jsx)(x.Fragment,{children:w?Object(x.jsxs)(La,{children:[Object(x.jsxs)(Ua,{children:[Object(x.jsx)(Pa,{children:Object(x.jsx)("img",{src:w.image,width:"100%",alt:""})}),Object(x.jsxs)(Pa,{children:[Object(x.jsx)(Va,{children:w.name}),Object(x.jsx)(_e,{data:S,changed:function(e){var t=e.target.value;m(t)},width:"100%"})]})]}),Object(x.jsx)(we,{onClick:function(){f({show:w,date:O,member:t}).then((function(){n()})).catch((function(e){console.log(e)}))},children:"Subscribe"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_e,{data:k,changed:function(e){var t=e.target.value,n=a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));s(n),j(t)}}),o.map((function(e){return Object(x.jsx)(za,{onClick:function(){return y(e)},children:e.name},e._id)}))]})})}var Ra,Ga,Ha,Ka,Wa,Za=ue.b.div(fr||(fr=Object(o.a)(["\n  max-width: 70%;\n  margin: auto;\n  padding-block: 20px;\n  background-color: #1f2c383d;\n  border-radius: 20px;\n  @media (max-width: 768px) {\n    max-width: 100%;\n    max-height: 70vh;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n"]))),Ja=ue.b.form(vr||(vr=Object(o.a)(["\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n"]))),$a=ue.b.div(gr||(gr=Object(o.a)(["\n  max-width: 100%;\n  padding-inline: 20px;\n  display: flex;\n  gap: 20px;\n  justify-content: space-evenly;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),qa=ue.b.div(wr||(wr=Object(o.a)(["\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n  padding: 0.5rem 1.25rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  margin: 0 auto;\n  max-width: 50%;\n"]))),Qa=(ue.b.div(yr||(yr=Object(o.a)(["\n  flex-grow: 2;\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 60%;\n  gap: 20px;\n"]))),ue.b.div(kr||(kr=Object(o.a)(["\n  flex-grow: 1;\n  max-height: 235px;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n"]))),ue.b.h2(Sr||(Sr=Object(o.a)(["\n  text-align: center;\n"])))),Xa=ue.b.div(Er||(Er=Object(o.a)(["\n  text-align: center;\n  min-height: 75px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Ya=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ec=function(e,t){var n=!1,r="";switch(e){case"name":""===t.trim()?(n=!0,r="Name cannot be empty"):(n=!1,r="");break;case"city":""===t.trim()?(n=!0,r="City cannot be empty"):(n=!1,r="");break;case"email":""===t.trim()?(n=!0,r="Email cannot be empty"):Ya.test(t)?(n=!1,r=""):(n=!0,r="Please provide a valid email address")}return{hasError:n,error:r}},tc={name:{label:"Name",value:"",type:"text",touched:!1,hasError:!0,error:""},city:{label:"City",value:"",type:"text",touched:!1,hasError:!0,error:""},email:{label:"Email",value:"",type:"text",touched:!1,hasError:!0,error:""},isFormValid:!1},nc=function(e){var t=e.action,n=e.buttonText,a=e.headerText,c=e.memberData,i=Ae(tc),o=Object(r.useReducer)(i,tc),s=Object(u.a)(o,2),b=s[0],j=s[1],h=Object(r.useState)(Ne),p=Object(u.a)(h,2),O=p[0],m=p[1],f=Object(r.useState)(""),v=Object(u.a)(f,2),g=v[0],w=v[1],y=Object(r.useState)(!1),k=Object(u.a)(y,2),S=k[0],E=k[1],C=De(ec),F=Be(ec),M=function(){var e=Object(d.a)(l.a.mark((function e(n){var r,a,c,i,o,s,d,u,h,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n.preventDefault(),m(Fe),r=!0,e.prev=3,b)c=b[a],i=c.value,o=ec(a,i),s=o.hasError,d=o.error,s&&(r=!1),a&&j({type:Ee,data:{name:a,value:i,hasError:s,error:d,touched:!0,isFormValid:r}});if(r){e.next=10;break}E(!0),setTimeout((function(){E(!1)}),5e3),e.next=18;break;case 10:for(h in u={},b)u[h]=b[h].value;return e.next=14,t(u);case 14:x=e.sent,m(Me),w(x.data.message),j({type:Ce});case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0),m(Ie),w(e.t0.response.data.message);case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(c)for(var e in c)if(Object.hasOwnProperty.call(c,e)){var t=c[e];j({type:Ee,data:{value:t,name:e,touched:!0,isFormValid:!0}})}}),[c]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ze,{status:O,setStatus:m,message:g}),Object(x.jsxs)(Za,{children:[Object(x.jsx)(Qa,{children:a}),Object(x.jsx)(Xa,{children:S&&!b.isFormValid&&Object(x.jsx)(qa,{children:"Please fill all the fields correctly"})}),Object(x.jsxs)(Ja,{children:[Object(x.jsx)($a,{children:Object.keys(b).map((function(e){return("text"===b[e].type||"number"===b[e].type)&&Object(x.jsx)(_e,{changed:function(t){return C(e,t.target.value,j,b)},id:e,data:b[e],onFocusOut:function(t){return F(e,t.target.value,j,b)}},e)}))}),Object(x.jsx)(we,{type:"submit",onClick:M,children:n})]})]})]})},rc=ue.b.div(Ra||(Ra=Object(o.a)(["\n  background-color: hsl(218deg 15% 8%);\n  color: whitesmoke;\n  border: 1px solid #b5b5b542;\n"]))),ac=Object(ue.b)(Te.a.Header)(Ga||(Ga=Object(o.a)(["\n  border-color: #b5b5b542;\n"]))),cc=Object(ue.b)(Te.a.Body)(Ha||(Ha=Object(o.a)(["\n  border: 1px solid #b5b5b500;\n"]))),ic=function(e){var t=e.open,n=e.setOpen,r=e.memberData,a=vn().editMember;return Object(x.jsx)(Te.a,{show:t,onHide:function(){return n(!1)},size:"xl",children:Object(x.jsxs)(rc,{children:[Object(x.jsx)(ac,{closeButton:!0,children:Object(x.jsx)(Te.a.Title,{children:"Edit Member"})}),Object(x.jsx)(cc,{children:Object(x.jsx)(nc,{buttonText:"Update",headerText:"Edit Member",action:a,memberData:r})})]})})},oc=function(e){var t=e.member,n=e.subscriptions,a=t._id,c=t.city,i=t.email,o=t.name,s=Object(r.useState)(!1),j=Object(u.a)(s,2),h=j[0],p=j[1],O=Object(r.useState)(!1),f=Object(u.a)(O,2),v=f[0],g=f[1],w=Object(r.useRef)(null),y=nn().getShowById,k=vn().deleteMember,S=m().authDetails,E=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(dt,{children:[Object(x.jsx)(ut,{children:Object(x.jsxs)(bt,{children:[S.permissions.includes("deleteSubscriptions")&&Object(x.jsxs)(ye,{BColor:"darkcyan",onClick:function(){return g(!0)},children:["Edit",Object(x.jsx)(st.a,{path:lt.a,size:1})]}),S.permissions.includes("updateSubscriptions")&&Object(x.jsxs)(ye,{BColor:"#522a2a",onClick:function(){return E(a)},children:["Delete",Object(x.jsx)(st.a,{path:lt.b,size:1})]})]})}),Object(x.jsxs)(jt,{children:[Object(x.jsx)(ht,{children:"Name: "}),Object(x.jsx)(xt,{children:o})]}),Object(x.jsxs)(jt,{children:[Object(x.jsx)(ht,{children:"City: "}),Object(x.jsx)(xt,{children:c})]}),Object(x.jsxs)(jt,{children:[Object(x.jsx)(ht,{children:"Email: "}),Object(x.jsx)(xt,{children:i})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)(Ea,{children:[Object(x.jsxs)(Ma,{children:[Object(x.jsx)("h5",{children:"Movies watched"}),Object(x.jsx)(ge,{onClick:function(){return p(!h)},ref:w,fontSmall:!0,children:"Subscribe to new movie"}),Object(x.jsx)(Ta.a,{show:h,onHide:function(){return p(!1)},target:w.current,flip:!0,rootClose:!0,children:function(e){var n=Object.assign({},e);return Object(x.jsx)(Ba,Object(b.a)(Object(b.a)({},n),{},{id:a,title:"Shows",children:Object(x.jsx)(_a,{member:t,onSubmit:function(){return p(!1)}})}))}})]}),n&&n.movies&&Object(x.jsx)(Fa,{children:n.movies.map((function(e,t){var n=y(e.movieId);return Object(x.jsxs)(Ca,{to:"/main/shows/".concat(n._id),children:[n.name,Object(x.jsx)("br",{}),e.date]},n._id+t.toString())}))})]})]}),Object(x.jsx)(ic,{open:v,setOpen:g,memberData:t})]})},sc=function(){var e=vn().allMembers,t=On().allSubscriptions,n=function(e){var n=t.find((function(t){return t.memberId===e}));if(n)return n};return Object(x.jsx)(mt,{children:e.map((function(e){return Object(x.jsx)(oc,{member:e,id:e._id,subscriptions:n(e._id)},e._id)}))})},lc=function(){var e=vn().addNewMember;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(nc,{action:e,buttonText:"Add Member",headerText:"New Member"})})},dc=function(){var e=Object(le.i)(),t=e.path,n=e.url,r=m().authDetails;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Lt,{children:[Object(x.jsx)(ve,{to:"".concat(n),activeClassName:"active",exact:!0,children:"All Members"}),r.permissions.includes("createSubscriptions")&&Object(x.jsx)(ve,{to:"".concat(n,"/add-member"),activeClassName:"active",children:"Add Member"})]}),Object(x.jsxs)(le.d,{children:[Object(x.jsx)(qe,{path:t,exact:!0,children:Object(x.jsx)(sc,{})}),r.permissions.includes("createSubscriptions")&&Object(x.jsx)(qe,{path:"".concat(t,"/add-member"),children:Object(x.jsx)(lc,{})})]})]})},uc=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("h2",{children:"Welcome page!"})})},bc=ue.b.div(Ka||(Ka=Object(o.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-rows: 13% 86%;\n  row-gap: 1%;\n  @media (max-width: 768px) {\n    grid-template-rows: 20% 80%;\n    padding: 2%;\n  }\n"]))),jc=function(){var e=m().authDetails,t=Object(le.i)().path;return Object(x.jsxs)(bc,{children:[Object(x.jsx)(rt,{}),Object(x.jsx)(Ot,{children:Object(x.jsx)(rn,{children:Object(x.jsx)(mn,{children:Object(x.jsx)(gn,{children:Object(x.jsxs)(le.d,{children:[Object(x.jsx)(qe,{path:t,exact:!0,children:Object(x.jsx)(uc,{})}),e.permissions.includes("viewMovies")&&Object(x.jsx)(qe,{path:"".concat(t,"/shows"),children:Object(x.jsx)(Sa,{})}),e.permissions.includes("viewSubscriptions")&&Object(x.jsx)(qe,{path:"".concat(t,"/members"),children:Object(x.jsx)(dc,{})}),e.isAdmin&&Object(x.jsx)(qe,{path:"".concat(t,"/users"),children:Object(x.jsx)(_t,{})})]})})})})})]})},hc=ue.b.div(Wa||(Wa=Object(o.a)(["\n  background: linear-gradient(\n    45deg,\n    hsl(216deg 13% 8%) 80%,\n    hsl(202deg 70% 12%) 100%\n  );\n  height: 100vh;\n  overflow: hidden;\n  padding: 2% 2% 0 2%;\n"])));var xc=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(f,{children:Object(x.jsx)(hc,{children:Object(x.jsx)(de.a,{children:Object(x.jsxs)(le.d,{children:[Object(x.jsx)(qe,{path:"/main",children:Object(x.jsx)(jc,{})}),Object(x.jsx)(le.b,{path:"/",children:Object(x.jsx)(Ze,{})})]})})})})})};i.a.render(Object(x.jsx)(xc,{}),document.getElementById("root"))},81:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.69f9f73b.chunk.js.map