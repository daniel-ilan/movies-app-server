{"version":3,"sources":["api.js","context/UserContext.js","components/Auth/styled.js","components/shared/Buttons.js","utils/formHelpers.js","components/shared/Modals.jsx","components/shared/FormInput.jsx","utils/authHelpers.js","components/Auth/login/Login.jsx","components/Auth/signup/SignUp.jsx","pages/Auth.jsx","components/Auth/PrivateRoute.jsx","components/Navbar/styled.js","components/Navbar/MainNavbar.jsx","components/shared/Avatar.jsx","components/shared/Card.js","components/Users/user-display/UserDisplay.jsx","components/shared/Wrapper.js","components/Users/AllUsers/AllUsers.jsx","components/Users/UserForm/styled.js","components/shared/FormCheckbox.jsx","utils/usersHelpers.js","components/Users/UserForm/UserForm.jsx","components/Users/AddUser.jsx","components/Users/EditUser.jsx","components/shared/InnerNav.jsx","pages/Users.jsx","context/ShowsContext.js","components/Shows/ShowDisplay/styled.js","context/SubscriptionsContext.js","context/MembersContext.js","components/Shows/ShowDisplay/ShowDisplay.jsx","components/Shows/AllShows/styled.js","components/Shows/AllShows/AllShows.jsx","components/Shows/ShowsForm/styled.js","components/shared/FormTextArea.jsx","utils/moviesHelpers.js","components/shared/FormMultiSelect.jsx","components/Shows/ShowsForm/ShowsForm.jsx","components/Shows/AddShow.jsx","components/Shows/EditShow.jsx","components/Shows/ShowDescription/styled.js","components/Shows/ShowDescription/ShowDesciprtion.jsx","components/Shows/Controls/styled.js","components/Shows/Controls/ShowControls.jsx","pages/Shows.jsx","components/Members/member-display/styled.js","components/shared/CustomPopover.jsx","components/Shows/SelectedShow/styled.js","components/Shows/SelectedShow/SelectedShow.jsx","components/Members/member-form/styled.js","utils/memberHelpers.js","components/Members/member-form/MemberForm.jsx","components/Members/edit-member/EditMemberModal.jsx","components/Members/member-display/MemberDisplay.jsx","components/Members/all-members/AllMembers.jsx","components/Members/AddMember.jsx","pages/Subscriptions.jsx","components/Welcome.jsx","pages/Main.jsx","App.js","index.js"],"names":["API","axios","create","baseURL","initialState","token","id","username","success","loading","permissions","UserContext","React","createContext","useAuth","useContext","UserContextProvider","children","auth","useState","setLoading","isAuthenticated","setIsAuthenticated","authDetails","setAuthDetails","login","password","a","post","response","data","logout","window","localStorage","setItem","signUp","validateToken","useCallback","userId","headers","Authorization","checkToken","isAdmin","removeItem","status","history","replaceState","console","log","useEffect","getItem","useProvideAuth","Provider","value","FormWrapper","styled","div","StyledForm","form","StyledHeader","h1","FormError","FormHeader","FormFooter","outlineCss","css","props","BColor","color","linkButtonCss","activeClassName","StyledLink","NavLink","StyledLinkButton","button","fontSmall","PrimaryButton","OutLineButton","OutLineButtonLink","UPDATE_FORM","RESET_FORM","STATUS","initForm","initialForm","state","action","type","name","hasError","error","touched","isFormValid","inputChange","validationFunc","postValidationFunc","dispatch","formData","key","item","focusOut","FormModal","setStatus","message","open","setOpen","Modal","show","onHide","Header","closeButton","Title","Error","StyledLabel","Form","Label","StyledFormGroup","Group","width","FormInput","changed","onFocusOut","label","Control","onChange","onBlur","validateAuthInputs","trim","length","Login","formReducer","useReducer","setMessage","showError","setShowError","onInputChange","useHistory","handleSubmit","event","preventDefault","setTimeout","field","formatedData","userData","push","onSubmit","Object","keys","map","e","target","to","SignUp","Container","Auth","path","useRouteMatch","PrivateRoute","rest","render","location","pathname","from","HeaderWrapper","Nav","nav","Links","ul","LinkItem","li","MainNavbar","url","onClick","includes","Av","backgroundColor","Avatar","firstName","lastName","avName","deg","Math","floor","random","sat","light","CardContainer","CardHeader","CardActions","CardInfoBlock","CardInfoSubHeader","span","CardInfoText","UserDisplay","index","handleDeletUser","user","mdiAccountEditOutline","title","size","_id","mdiDeleteOutline","sessionTimeOut","dangerouslySetInnerHTML","__html","join","PageWrapper","FlexWrap","AllUsers","users","setUsers","newUsers","Array","userIndexToPop","findIndex","splice","usersData","allUsersData","Spinner","animation","InputsWrapper","Credentials","Permissions","h2","FormCheckbox","Check","checked","subscriptionsBoxes","moviesBoxes","validateInput","test","postValidation","permission","viewSubscriptions","createSubscriptions","deleteSubscriptions","updateSubscriptions","viewMovies","createMovies","deleteMovies","updateMovies","UserForm","buttonText","headerText","hasOwnProperty","call","AddUser","EditUser","useParams","userIndex","InnerNav","Users","exact","sortShowsByName","b","nameA","toUpperCase","nameB","ShowsContext","useShows","ShowsContextProvider","shows","initShows","setInitShows","allGenres","setAllGenres","filteredShows","setFilteredShows","getAllShows","get","genres","Set","flat","addNewShow","editShow","deleteShow","showId","delete","getShowById","find","filterShows","text","allShows","filterShowsByName","filterShowsByGenre","newShows","filter","toLowerCase","sort","genre","every","v","useMoviesData","ShowCard","ShowLink","Link","CardBody","ShowTitle","ShowHeader","ShowImage","img","Small","small","Rating","CardFooter","SubscribersContainer","Subscriber","SubscriptionsContext","useSubscriptions","SubscriptionsContextProvider","subscriptions","allSubscriptions","setAllSubscriptions","getAllSubscriptions","addNewSubscription","deleteSubscription","subscriptionId","useSubscriptionsData","MembersContext","useMembers","MembersContextProvider","members","allMembers","setAllMembers","getAllMembers","addNewMember","editMember","deleteMember","memberId","getMemberById","member","useMembersData","ShowDisplay","showSubscribers","forEach","subscription","isSubscribed","movies","movie","movieId","date","rating","height","src","image","subsciption","MoviesGrid","AllShowsContainer","AllShows","loader","useRef","rootElement","page","setPage","showsToRender","setShowsToRender","initialLoad","setInitialLoad","hasMoreData","loadMoreShows","slice","handleObserver","entities","isIntersecting","current","toObserve","options","root","rootMargin","threshold","observer","IntersectionObserver","observe","unobserve","ref","TextArea","LeftInputs","RightInputs","as","rows","className","toString","premiered","summary","MaxOptions","colourStyles","control","styles","option","isSelected","isFocused","multiValue","multiValueLabel","multiValueRemove","MultiSelect","maxOptions","initialGenres","values","setValues","select","selectOptions","setSelectOptions","formatOptions","isMulti","newValue","val","closeMenuOnSelect","noOptionsMessage","leftInputs","centerInputs","ShowForm","showData","selectedGenres","setSelectedGenres","formatGenres","Fragment","FormTextArea","disabled","AddShow","EditShow","Wrapper","MovieHeader","MovieImage","MovieTitle","DescriptionContainer","MovieDescription","RatingGenersContainer","Genres","ShowDescription","selectedMovie","setSelectedMovie","handleDelete","SideNav","SearchShow","StyledIcon","Icon","StyledInput","SearchGenres","borderColor","boxShadow","dropdownIndicator","clearIndicator","indicatorSeparator","ShowControls","setGenres","searchName","setSearchName","searchGenres","setSearchGenres","Accordion","Collapse","eventKey","placeholder","mdiMagnify","S","LinksWrapper","StyledToggle","Toggle","Shows","isTabletOrMobile","useMediaQuery","query","defaultActiveKey","MoviesWatchedWrapper","MovieItem","h5","SubscriptionsWrapper","SubscriptionsHeader","Popover","StyledPopoverBody","Content","StyledPopOverHeader","CustomPopover","forwardRef","handleOutsideClick","ShowWrapper","FlexChildContainer","SelectedShowWrapper","SelectedShow","renderShows","setRenderShows","searchValue","setSearchValue","Date","toLocaleDateString","dateValue","setDateValue","selectedShow","setSelectedShow","inputData","dateInputData","alt","then","catch","err","emailReg","city","email","MemberForm","memberData","StyledModal","StyledModalHeader","StyledModalBody","Body","EditMemberModal","MemberDisplay","openShows","setOpenShows","openModal","setOpenModal","Overlay","flip","rootClose","AllMembers","getMemberSubscriptions","memberSubscriptions","AddMember","Members","Welcome","MainWrapper","Main","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.69f9f73b.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API = axios.create({\r\n  baseURL: `http://localhost:8082`,\r\n});\r\n\r\nexport default API;\r\n","import React, { useContext, useState, useEffect, useCallback } from 'react';\r\nimport API from '../api';\r\n\r\nconst initialState = {\r\n  token: null,\r\n  id: null,\r\n  username: null,\r\n  success: false,\r\n  loading: false,\r\n  permissions: [],\r\n};\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport const useAuth = () => {\r\n  return useContext(UserContext);\r\n};\r\n\r\nexport const UserContextProvider = ({ children }) => {\r\n  const auth = useProvideAuth();\r\n  return <UserContext.Provider value={auth}>{children}</UserContext.Provider>;\r\n};\r\n\r\nfunction useProvideAuth() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [authDetails, setAuthDetails] = useState(initialState);\r\n\r\n  const login = async (username, password) => {\r\n    const response = await API.post('/login', { username, password });\r\n    const data = response.data;\r\n    if (data.success) {\r\n      setAuthDetails(data);\r\n      setIsAuthenticated(true);\r\n      return data;\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    setAuthDetails(null);\r\n    setIsAuthenticated(false);\r\n    window.localStorage.setItem('token', null);\r\n    window.localStorage.setItem('id', null);\r\n    window.localStorage.setItem('username', null);\r\n  };\r\n\r\n  const signUp = async (username, password) => {\r\n    const response = await API.post('/signup', { username, password });\r\n    const data = response.data;\r\n    if (data.success) {\r\n      setAuthDetails(data);\r\n      setIsAuthenticated(true);\r\n      return data;\r\n    }\r\n  };\r\n\r\n  const validateToken = useCallback(\r\n    async (token, userId, username) => {\r\n      try {\r\n        const checkToken = await API.post(\r\n          '/validate-token',\r\n          { userId },\r\n          {\r\n            headers: {\r\n              Authorization: `Barer ${token}`,\r\n            },\r\n          },\r\n        );\r\n\r\n        if (checkToken.data.success) {\r\n          setAuthDetails({\r\n            ...authDetails,\r\n            username,\r\n            userId,\r\n            token,\r\n            permissions: checkToken.data.permissions,\r\n            isAdmin: checkToken.data,\r\n            success: true,\r\n          });\r\n          setIsAuthenticated(true);\r\n        } else {\r\n          setAuthDetails(initialState);\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('id');\r\n          localStorage.removeItem('username');\r\n          setIsAuthenticated(false);\r\n        }\r\n      } catch (error) {\r\n        if (error.response.status === 401) {\r\n          window.history.replaceState(null, '', '/login');\r\n          setAuthDetails(initialState);\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('id');\r\n          localStorage.removeItem('username');\r\n          setIsAuthenticated(false);\r\n        } else {\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n    [authDetails],\r\n  );\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const userId = localStorage.getItem('id');\r\n    const username = localStorage.getItem('username');\r\n\r\n    if (token && userId) {\r\n      validateToken(token, userId, username);\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    signUp,\r\n    login,\r\n    logout,\r\n    authDetails,\r\n    setAuthDetails,\r\n    loading,\r\n    setLoading,\r\n    isAuthenticated,\r\n    validateToken,\r\n  };\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const FormWrapper = styled.div`\r\n  margin: auto;\r\n  height: 80%;\r\n  min-width: 40%;\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    padding-inline: 20px;\r\n  }\r\n`;\r\n\r\nexport const StyledForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 30px;\r\n`;\r\n\r\nexport const StyledHeader = styled.h1`\r\n  margin-block: 20px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormError = styled.div`\r\n  color: #721c24;\r\n  background-color: #f8d7da;\r\n  border-color: #f5c6cb;\r\n  padding: 0.5rem 1.25rem;\r\n  border: 1px solid transparent;\r\n  border-radius: 0.25rem;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const FormHeader = styled.div`\r\n  text-align: center;\r\n  min-height: 75px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const FormFooter = styled.div`\r\n  margin-top: 15px;\r\n  text-align: center;\r\n`;\r\n","import styled, { css } from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport const outlineCss = css`\r\n  text-decoration: none !important;\r\n  padding: 8px;\r\n  background-color: transparent;\r\n  border: 1px solid ${(props) => props.BColor || '#27273d6b'};\r\n  color: gray;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 10px;\r\n  transition: 0.2s all;\r\n  font-weight: 500;\r\n  font-size: 1.1rem;\r\n  gap: 5px;\r\n  height: 40px;\r\n  color: ${(props) => props.color || '#b3b3b3'};\r\n  &:hover {\r\n    background-color: ${(props) => (props.BColor ? props.BColor : '#27273d6b')};\r\n    color: #b3b3b3;\r\n  }\r\n  &:active {\r\n    background-color: #3333337d;\r\n    color: #b3b3b3;\r\n  }\r\n  &:focus {\r\n    background-color: #3333337d;\r\n    color: #b3b3b3;\r\n  }\r\n`;\r\n\r\nexport const linkButtonCss = css`\r\n  text-decoration: none !important;\r\n  padding: 10px 15px;\r\n  color: #e5e5e5;\r\n  transition: all 0.1s;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  &:hover {\r\n    box-shadow: 0px 0px 15px 0px #000000;\r\n    color: darkcyan;\r\n  }\r\n  &:focus {\r\n    box-shadow: 0px 0px 15px 0px #000000;\r\n    color: darkcyan;\r\n  }\r\n  &:active {\r\n    box-shadow: 0px 0px 15px 0px #000000;\r\n    color: darkcyan;\r\n  }\r\n  &.${(props) => props.activeClassName} {\r\n    box-shadow: 0px 0px 15px 0px #000000;\r\n    color: darkcyan;\r\n  }\r\n`;\r\n\r\nexport const StyledLink = styled(NavLink)`\r\n  ${linkButtonCss}\r\n`;\r\n\r\nexport const StyledLinkButton = styled.button`\r\n  ${linkButtonCss}\r\n  background-color: transparent;\r\n  border: none;\r\n  font-size: ${(props) => (props.fontSmall ? '0.8rem' : '1rem')};\r\n  color: darkcyan;\r\n  padding: 8px 10px;\r\n  position: relative;\r\n`;\r\n\r\nexport const PrimaryButton = styled.button`\r\n  background-color: darkblue;\r\n  border: 1px solid #08084c;\r\n  color: whitesmoke;\r\n  padding: 10px 15px;\r\n  border-radius: 10px;\r\n  transition: 0.2s all;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n\r\n  &:hover {\r\n    background-color: #08084c;\r\n    border-color: #01011d;\r\n    box-shadow: 0px 0px 3px 0px hsl(240deg 56% 58% / 70%);\r\n  }\r\n  &:active {\r\n    background-color: #08084c;\r\n    border-color: #01011d;\r\n    box-shadow: 0px 0px 3px 0px hsl(240deg 56% 58% / 70%);\r\n  }\r\n  &:focus {\r\n    background-color: #08084c;\r\n    border-color: #01011d;\r\n    box-shadow: 0px 0px 3px 0px hsl(240deg 56% 58% / 70%);\r\n  }\r\n  &:disabled,\r\n  &[disabled] {\r\n    border: 1px solid #999999;\r\n    background-color: #cccccc;\r\n    color: #666666;\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nexport const OutLineButton = styled.button`\r\n  ${outlineCss}\r\n`;\r\n\r\nexport const OutLineButtonLink = styled(NavLink)`\r\n  ${outlineCss}\r\n  &.${(props) => props.activeClassName} {\r\n    box-shadow: 0px 0px 15px 0px #000000;\r\n    color: darkcyan;\r\n  }\r\n`;\r\n","export const UPDATE_FORM = 'UPDATE_FORM';\r\nexport const RESET_FORM = 'RESET_FORM';\r\nexport const STATUS = {\r\n  loading: 'loading',\r\n  success: 'success',\r\n  fail: 'fail',\r\n  init: 'init',\r\n};\r\n\r\nexport const initForm = (initialForm) => {\r\n  return function formReducer(state, action) {\r\n    switch (action.type) {\r\n      case UPDATE_FORM:\r\n        const { name, value, hasError, error, touched, isFormValid } =\r\n          action.data;\r\n        return {\r\n          ...state,\r\n          [name]: { ...state[name], value, hasError, error, touched },\r\n          isFormValid,\r\n        };\r\n\r\n      case RESET_FORM:\r\n        return initialForm;\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n};\r\n\r\nexport const inputChange = (validationFunc, postValidationFunc = null) => {\r\n  return function onInputChange(name, value, dispatch, formData) {\r\n    const { hasError, error } = validationFunc(name, value);\r\n    let isFormValid = true;\r\n    for (const key in formData) {\r\n      const item = formData[key];\r\n      // Check if the current field has error\r\n      if (key === name && hasError) {\r\n        isFormValid = false;\r\n      } else if (key !== name && item.hasError) {\r\n        // Check if any other field has error\r\n        isFormValid = false;\r\n      }\r\n    }\r\n\r\n    dispatch({\r\n      type: UPDATE_FORM,\r\n      data: { name, value, hasError, error, touched: false, isFormValid },\r\n    });\r\n\r\n    if (postValidationFunc) {\r\n      postValidationFunc(name, value, dispatch, hasError, error, isFormValid);\r\n    }\r\n  };\r\n};\r\n\r\nexport const focusOut = (validationFunc) => {\r\n  return function onFocusOut(name, value, dispatch, formData) {\r\n    const { hasError, error } = validationFunc(name, value);\r\n\r\n    let isFormValid = true;\r\n    for (const key in formData) {\r\n      const item = formData[key];\r\n      if (key === name && hasError) {\r\n        isFormValid = false;\r\n      } else if (key !== name && item.hasError) {\r\n        isFormValid = false;\r\n      }\r\n    }\r\n    dispatch({\r\n      type: UPDATE_FORM,\r\n      data: { name, value, hasError, error, touched: true, isFormValid },\r\n    });\r\n  };\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { STATUS } from '../../utils/formHelpers';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\nexport const FormModal = ({ status, setStatus, message }) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (status === STATUS.success || status === STATUS.fail) {\r\n      setOpen(true);\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  }, [status]);\r\n\r\n  const handleClose = () => setStatus(STATUS.init);\r\n\r\n  return (\r\n    <Modal show={open} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{message}</Modal.Title>\r\n      </Modal.Header>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nconst Error = styled.div`\r\n  color: red;\r\n  min-height: 1.25em;\r\n  line-height: 1.25;\r\n`;\r\n\r\nconst StyledLabel = styled(Form.Label)`\r\n  margin-bottom: 0;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledFormGroup = styled(Form.Group)`\r\n  width: ${(props) => props.width || '250px'};\r\n`;\r\n\r\nconst FormInput = ({ changed, data, id, onFocusOut, width }) => {\r\n  const { value, type, error, touched, label, hasError } = data;\r\n\r\n  return (\r\n    <StyledFormGroup width={width}>\r\n      <StyledLabel>\r\n        {label}\r\n        <Form.Control\r\n          id={id}\r\n          onChange={changed}\r\n          value={value || ''}\r\n          name={id}\r\n          type={type}\r\n          onBlur={onFocusOut}\r\n        />\r\n      </StyledLabel>\r\n      <Error>{touched && hasError && error}</Error>\r\n    </StyledFormGroup>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","export const validateAuthInputs = (name, value) => {\r\n  let hasError = false,\r\n    error = '';\r\n  switch (name) {\r\n    case 'username':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Username cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'password':\r\n      if (value.length === 0) {\r\n        hasError = true;\r\n        error = 'Password can not be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n  return { hasError, error };\r\n};\r\n\r\nexport const initialForm = {\r\n  username: {\r\n    label: 'User Name',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  password: {\r\n    label: 'Password',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  isFormValid: false,\r\n};\r\n","import React, { useReducer, useState } from 'react';\r\nimport { useAuth } from '../../../context/UserContext';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport * as S from '../styled';\r\nimport { PrimaryButton } from '../../shared/Buttons';\r\nimport { FormModal } from '../../shared/Modals';\r\nimport FormInput from '../../shared/FormInput';\r\nimport {\r\n  initForm,\r\n  UPDATE_FORM,\r\n  STATUS,\r\n  focusOut,\r\n  inputChange,\r\n} from '../../../utils/formHelpers';\r\nimport { initialForm, validateAuthInputs } from '../../../utils/authHelpers';\r\n\r\nconst Login = () => {\r\n  const formReducer = initForm(initialForm);\r\n\r\n  const [formData, dispatch] = useReducer(formReducer, initialForm);\r\n  const [status, setStatus] = useState(STATUS.init);\r\n  const [message, setMessage] = useState('');\r\n  const [showError, setShowError] = useState(false);\r\n  const onInputChange = inputChange(validateAuthInputs);\r\n  const onFocusOut = focusOut(validateAuthInputs);\r\n\r\n  const { login } = useAuth();\r\n  let history = useHistory();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setStatus(STATUS.loading);\r\n    let isFormValid = true;\r\n    try {\r\n      for (const name in formData) {\r\n        const item = formData[name];\r\n        const { value } = item;\r\n        const { hasError, error } = validateAuthInputs(name, value);\r\n        if (hasError) {\r\n          isFormValid = false;\r\n        }\r\n        if (name) {\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              name,\r\n              value,\r\n              hasError,\r\n              error,\r\n              touched: true,\r\n              isFormValid,\r\n            },\r\n          });\r\n        }\r\n      }\r\n      if (!isFormValid) {\r\n        setShowError(true);\r\n        setTimeout(() => {\r\n          setShowError(false);\r\n        }, 5000);\r\n      } else {\r\n        // form is valid\r\n        const formatedData = {};\r\n        for (const field in formData) {\r\n          formatedData[field] = formData[field].value;\r\n        }\r\n        const userData = await login(\r\n          formatedData.username,\r\n          formatedData.password,\r\n        );\r\n\r\n        setStatus(STATUS.success);\r\n        if (userData) {\r\n          window.localStorage.setItem('token', userData.token);\r\n          window.localStorage.setItem('id', userData.id);\r\n          window.localStorage.setItem('username', userData.username);\r\n          history.push('/main');\r\n        }\r\n      }\r\n\r\n      // setFormData({ key: 'reset' });\r\n    } catch (error) {\r\n      setStatus(STATUS.fail);\r\n      setMessage(error.response.data.message);\r\n      console.log(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormModal status={status} setStatus={setStatus} message={message} />\r\n\r\n      <S.FormWrapper>\r\n        <S.StyledHeader>Login</S.StyledHeader>\r\n        <S.FormHeader>\r\n          {showError && !formData.isFormValid && (\r\n            <S.FormError>Please fill all the fields correctly</S.FormError>\r\n          )}\r\n        </S.FormHeader>\r\n        <S.StyledForm onSubmit={handleSubmit}>\r\n          {Object.keys(formData).map((key) => {\r\n            return (\r\n              formData[key].type === 'text' && (\r\n                <FormInput\r\n                  changed={(e) =>\r\n                    onInputChange(key, e.target.value, dispatch, formData)\r\n                  }\r\n                  key={key}\r\n                  id={key}\r\n                  data={formData[key]}\r\n                  onFocusOut={(e) =>\r\n                    onFocusOut(key, e.target.value, dispatch, formData)\r\n                  }\r\n                  width='100%'\r\n                />\r\n              )\r\n            );\r\n          })}\r\n          <PrimaryButton type='submit'>Login</PrimaryButton>\r\n        </S.StyledForm>\r\n        <S.FormFooter>\r\n          <h4>Need to sign up first?</h4> <Link to='signup'>Signup</Link>\r\n        </S.FormFooter>\r\n      </S.FormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useReducer, useState } from 'react';\r\nimport { useAuth } from '../../../context/UserContext';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport * as S from '../styled';\r\nimport { PrimaryButton } from '../../shared/Buttons';\r\nimport { FormModal } from '../../shared/Modals';\r\nimport FormInput from '../../shared/FormInput';\r\nimport {\r\n  initForm,\r\n  UPDATE_FORM,\r\n  STATUS,\r\n  focusOut,\r\n  inputChange,\r\n} from '../../../utils/formHelpers';\r\nimport { initialForm, validateAuthInputs } from '../../../utils/authHelpers';\r\n\r\nconst SignUp = () => {\r\n  const formReducer = initForm(initialForm);\r\n\r\n  const [formData, dispatch] = useReducer(formReducer, initialForm);\r\n  const [status, setStatus] = useState(STATUS.init);\r\n  const [message, setMessage] = useState('');\r\n  const [showError, setShowError] = useState(false);\r\n  const onInputChange = inputChange(validateAuthInputs);\r\n  const onFocusOut = focusOut(validateAuthInputs);\r\n\r\n  const { signUp } = useAuth();\r\n  let history = useHistory();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setStatus(STATUS.loading);\r\n    let isFormValid = true;\r\n    try {\r\n      for (const name in formData) {\r\n        const item = formData[name];\r\n        const { value } = item;\r\n        const { hasError, error } = validateAuthInputs(name, value);\r\n        if (hasError) {\r\n          isFormValid = false;\r\n        }\r\n        if (name) {\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              name,\r\n              value,\r\n              hasError,\r\n              error,\r\n              touched: true,\r\n              isFormValid,\r\n            },\r\n          });\r\n        }\r\n      }\r\n      if (!isFormValid) {\r\n        setShowError(true);\r\n        setTimeout(() => {\r\n          setShowError(false);\r\n        }, 5000);\r\n      } else {\r\n        // form is valid\r\n        const formatedData = {};\r\n        for (const field in formData) {\r\n          formatedData[field] = formData[field].value;\r\n        }\r\n        const userData = await signUp(\r\n          formatedData.username,\r\n          formatedData.password,\r\n        );\r\n\r\n        setStatus(STATUS.success);\r\n        if (userData) {\r\n          window.localStorage.setItem('token', userData.token);\r\n          window.localStorage.setItem('id', userData.id);\r\n          window.localStorage.setItem('username', userData.username);\r\n          history.push('/main');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      setStatus(STATUS.fail);\r\n      setMessage(error.response.data.message);\r\n      console.log(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormModal status={status} setStatus={setStatus} message={message} />\r\n\r\n      <S.FormWrapper>\r\n        <S.StyledHeader>Sign up</S.StyledHeader>\r\n        <S.FormHeader>\r\n          {showError && !formData.isFormValid && (\r\n            <S.FormError>Please fill all the fields correctly</S.FormError>\r\n          )}\r\n        </S.FormHeader>\r\n        <S.StyledForm onSubmit={handleSubmit}>\r\n          {Object.keys(formData).map((key) => {\r\n            return (\r\n              formData[key].type === 'text' && (\r\n                <FormInput\r\n                  changed={(e) =>\r\n                    onInputChange(key, e.target.value, dispatch, formData)\r\n                  }\r\n                  key={key}\r\n                  id={key}\r\n                  data={formData[key]}\r\n                  onFocusOut={(e) =>\r\n                    onFocusOut(key, e.target.value, dispatch, formData)\r\n                  }\r\n                  width='100%'\r\n                />\r\n              )\r\n            );\r\n          })}\r\n          <PrimaryButton type='submit'>Sign up</PrimaryButton>\r\n        </S.StyledForm>\r\n        <S.FormFooter>\r\n          <h4>Already a user?</h4> <Link to='login'>Login</Link>\r\n        </S.FormFooter>\r\n      </S.FormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useEffect } from 'react';\r\nimport Login from '../components/Auth/login/Login';\r\nimport SignUp from '../components/Auth/signup/SignUp';\r\nimport { useAuth } from '../context/UserContext';\r\nimport {\r\n  Redirect,\r\n  Switch,\r\n  Route,\r\n  useRouteMatch,\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  max-width: 50%;\r\n  margin: auto;\r\n  padding-block: 20px;\r\n  background-color: #1f2c383d;\r\n  border-radius: 20px;\r\n  height: 80%;\r\n  display: flex;\r\n  color: whitesmoke;\r\n\r\n  @media (max-width: 768px) {\r\n    max-width: 80%;\r\n    margin-top: 10%;\r\n  }\r\n`;\r\n\r\nconst Auth = () => {\r\n  const { isAuthenticated } = useAuth();\r\n  let { path } = useRouteMatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      history.push('/main');\r\n    }\r\n    return () => {};\r\n  }, [isAuthenticated, history]);\r\n\r\n  return (\r\n    <Container>\r\n      <Switch>\r\n        <Route path={`/login`}>\r\n          <Login />\r\n        </Route>\r\n        <Route path={`/signup`}>\r\n          <SignUp />\r\n        </Route>\r\n        {path === '/' && <Redirect to={`${path}login`} />}\r\n      </Switch>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from 'react';\r\nimport { useAuth } from '../../context/UserContext';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n  const { isAuthenticated } = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        isAuthenticated ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n`;\r\n\r\nexport const HeaderWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: baseline;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  color: #e5e5e5;\r\n  @media (max-width: 768px) {\r\n    font-size: 1rem;\r\n  }\r\n`;\r\n\r\nexport const Nav = styled.nav`\r\n  margin-top: auto;\r\n`;\r\n\r\nexport const Links = styled.ul`\r\n  display: flex;\r\n  margin: 0;\r\n`;\r\n\r\nexport const LinkItem = styled.li`\r\n  margin-inline: 8px;\r\n  list-style: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useAuth } from '../../context/UserContext';\r\nimport { StyledLink, StyledLinkButton } from '../shared/Buttons';\r\nimport * as S from './styled';\r\n\r\nconst MainNavbar = () => {\r\n  let { url } = useRouteMatch();\r\n  const { logout, authDetails } = useAuth();\r\n  return (\r\n    <S.Container>\r\n      <S.HeaderWrapper>\r\n        <S.Title>Welcome to Shows / subscription WebApp</S.Title>\r\n        <StyledLinkButton onClick={() => logout()}>Logout</StyledLinkButton>\r\n      </S.HeaderWrapper>\r\n      <S.Nav>\r\n        <S.Links>\r\n          <S.LinkItem>\r\n            {authDetails.permissions.includes('viewMovies') && (\r\n              <StyledLink to={`${url}/shows`} activeClassName='active'>\r\n                Shows\r\n              </StyledLink>\r\n            )}\r\n          </S.LinkItem>\r\n          {authDetails.permissions.includes('viewSubscriptions') && (\r\n            <S.LinkItem>\r\n              <StyledLink to={`${url}/members`} activeClassName='active'>\r\n                Members\r\n              </StyledLink>\r\n            </S.LinkItem>\r\n          )}\r\n          {authDetails.isAdmin && (\r\n            <S.LinkItem>\r\n              <StyledLink to={`${url}/users`} activeClassName='active'>\r\n                User Managment\r\n              </StyledLink>\r\n            </S.LinkItem>\r\n          )}\r\n        </S.Links>\r\n      </S.Nav>\r\n    </S.Container>\r\n  );\r\n};\r\n\r\nexport default MainNavbar;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport const Av = styled.div`\r\n  border-radius: 200px;\r\n  font-size: 0.8rem;\r\n  width: 50px;\r\n  height: 50px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${(props) => props.backgroundColor};\r\n`;\r\n\r\nconst Avatar = ({ firstName, lastName }) => {\r\n  const getRandColor = () => {\r\n    const deg = Math.floor(Math.random() * 240);\r\n    const sat = Math.floor(Math.random() * 100);\r\n    const light = Math.floor(Math.random() * 50);\r\n\r\n    const hsl = `hsl(${deg}deg, ${sat}%, ${light}%)`;\r\n    return hsl;\r\n  };\r\n\r\n  const avName = firstName[0] + lastName[0];\r\n\r\n  return <Av backgroundColor={getRandColor}>{avName}</Av>;\r\n};\r\n\r\nexport default Avatar;\r\n","import styled from 'styled-components';\r\n\r\nexport const CardContainer = styled.div`\r\n  background-color: #1f2c383d;\r\n  border-radius: 10px;\r\n  max-width: 350px;\r\n  min-width: 350px;\r\n  padding: 10px;\r\n  border: 1px solid #333333;\r\n  max-height: 400px;\r\n`;\r\n\r\nexport const CardHeader = styled.div`\r\n  display: flex;\r\n  padding: 5px;\r\n`;\r\n\r\nexport const CardActions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-inline-start: auto;\r\n`;\r\n\r\nexport const CardInfoBlock = styled.div`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const CardInfoSubHeader = styled.span`\r\n  font-size: 1.2rem;\r\n  color: lightgray;\r\n  font-weight: 600;\r\n`;\r\n\r\nexport const CardInfoText = styled.span`\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n`;\r\n","import React from 'react';\r\nimport { OutLineButton, OutLineButtonLink } from '../../shared/Buttons';\r\nimport Avatar from '../../shared/Avatar';\r\nimport Icon from '@mdi/react';\r\nimport { mdiAccountEditOutline, mdiDeleteOutline } from '@mdi/js';\r\nimport {\r\n  CardContainer,\r\n  CardActions,\r\n  CardInfoSubHeader,\r\n  CardHeader,\r\n  CardInfoText,\r\n  CardInfoBlock,\r\n} from '../../shared/Card';\r\n\r\nconst UserDisplay = ({ index, url, handleDeletUser, user }) => {\r\n  return (\r\n    <CardContainer>\r\n      <CardHeader>\r\n        <Avatar firstName={user.firstName} lastName={user.lastName} />\r\n        <CardActions>\r\n          <OutLineButtonLink BColor='darkcyan' to={`${url}/edit-user/${index}`}>\r\n            Edit{'  '}\r\n            <Icon path={mdiAccountEditOutline} title='User Profile' size={1} />\r\n          </OutLineButtonLink>\r\n          <OutLineButton\r\n            BColor='#522a2a'\r\n            onClick={() => handleDeletUser(user._id)}>\r\n            Delete{'  '}\r\n            <Icon path={mdiDeleteOutline} title='User Profile' size={1} />\r\n          </OutLineButton>\r\n        </CardActions>\r\n      </CardHeader>\r\n      <CardInfoBlock>\r\n        <CardInfoSubHeader>Name: </CardInfoSubHeader>\r\n        <CardInfoText>{`${user.firstName} ${user.lastName}`}</CardInfoText>\r\n      </CardInfoBlock>\r\n      <CardInfoBlock>\r\n        <CardInfoSubHeader>User Name: </CardInfoSubHeader>\r\n        <CardInfoText>{user.username}</CardInfoText>\r\n      </CardInfoBlock>\r\n      <CardInfoBlock>\r\n        <CardInfoSubHeader>Session Time Out (Minutes): </CardInfoSubHeader>\r\n        {user.sessionTimeOut || (\r\n          <CardInfoText\r\n            dangerouslySetInnerHTML={{\r\n              __html: '&#x221e',\r\n            }}\r\n          />\r\n        )}\r\n      </CardInfoBlock>\r\n      <CardInfoBlock>\r\n        <CardInfoSubHeader>Permisssions: </CardInfoSubHeader>\r\n        <CardInfoText>{user.permissions.join(', ')}</CardInfoText>\r\n      </CardInfoBlock>\r\n    </CardContainer>\r\n  );\r\n};\r\n\r\nexport default UserDisplay;\r\n","import styled from 'styled-components';\r\nexport const PageWrapper = styled.div`\r\n  color: whitesmoke;\r\n`;\r\n\r\nexport const FlexWrap = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-inline: auto;\r\n  gap: 10px;\r\n  overflow: auto;\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport API from '../../../api';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport UserDisplay from '../user-display/UserDisplay';\r\nimport { FlexWrap } from '../../shared/Wrapper';\r\nconst AllUsers = ({ token, users, setUsers }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const { url } = useRouteMatch();\r\n\r\n  const handleDeletUser = async (userId) => {\r\n    try {\r\n      await API.post(\r\n        '/delete-user',\r\n        { userId: userId },\r\n        {\r\n          headers: { Authorization: `Barer ${token}` },\r\n        },\r\n      );\r\n      const newUsers = Array.from(users);\r\n      const userIndexToPop = newUsers.findIndex((user) => user._id === userId);\r\n      newUsers.splice(userIndexToPop, 1);\r\n      setUsers(newUsers);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n\r\n      const usersData = await API.post('/all-users', null, {\r\n        headers: { Authorization: `Barer ${token}` },\r\n      });\r\n      setUsers(usersData.data.allUsersData);\r\n      setLoading(false);\r\n    })();\r\n  }, [token, setUsers]);\r\n\r\n  if (loading) return <Spinner animation='border' />;\r\n\r\n  return (\r\n    <>\r\n      <FlexWrap>\r\n        {!loading &&\r\n          users &&\r\n          users.map((user, index) => {\r\n            return (\r\n              <UserDisplay\r\n                key={index}\r\n                index={index}\r\n                url={url}\r\n                handleDeletUser={handleDeletUser}\r\n                user={user}\r\n              />\r\n            );\r\n          })}\r\n      </FlexWrap>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllUsers;\r\n","import styled from 'styled-components';\r\n\r\nexport const FormWrapper = styled.div`\r\n  max-width: 70%;\r\n  margin: auto;\r\n  padding-block: 20px;\r\n  background-color: #1f2c383d;\r\n  border-radius: 20px;\r\n  @media (max-width: 768px) {\r\n    max-width: 100%;\r\n    max-height: 70vh;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  width: 100%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  display: flex;\r\n`;\r\n\r\nexport const InputsWrapper = styled.div`\r\n  min-width: 100%;\r\n  padding-inline: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const FormError = styled.div`\r\n  color: #721c24;\r\n  background-color: #f8d7da;\r\n  border-color: #f5c6cb;\r\n  padding: 0.5rem 1.25rem;\r\n  border: 1px solid transparent;\r\n  border-radius: 0.25rem;\r\n  margin: 0 auto;\r\n  max-width: 50%;\r\n`;\r\n\r\nexport const Credentials = styled.div`\r\n  flex-grow: 2;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  max-width: 60%;\r\n  gap: 20px;\r\n  @media (max-width: 768px) {\r\n    max-width: 100%;\r\n    gap: 0;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nexport const Permissions = styled.div`\r\n  flex-grow: 1;\r\n  max-height: 235px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormHeader = styled.div`\r\n  text-align: center;\r\n  min-height: 75px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nconst StyledLabel = styled(Form.Label)`\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n`;\r\n\r\nconst StyledFormGroup = styled(Form.Group)`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nconst FormCheckbox = ({ changed, label, id, value }) => {\r\n  return (\r\n    <StyledFormGroup>\r\n      <StyledLabel>\r\n        {label}\r\n        <Form.Check\r\n          id={id}\r\n          onChange={changed}\r\n          checked={value || false}\r\n          name={id}\r\n          type='checkbox'\r\n        />\r\n      </StyledLabel>\r\n    </StyledFormGroup>\r\n  );\r\n};\r\n\r\nexport default FormCheckbox;\r\n","import { UPDATE_FORM } from './formHelpers';\r\nconst subscriptionsBoxes = [\r\n  'createSubscriptions',\r\n  'deleteSubscriptions',\r\n  'updateSubscriptions',\r\n];\r\nconst moviesBoxes = ['createMovies', 'deleteMovies', 'updateMovies'];\r\n\r\nexport const validateInput = (name, value) => {\r\n  let hasError = false,\r\n    error = '';\r\n  console.log(name);\r\n  switch (name) {\r\n    case 'username':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Username cannot be empty';\r\n      } else if (!/^[a-zA-Z ]+$/.test(value)) {\r\n        hasError = true;\r\n        error = 'Invalid username. Please avoid Special characters';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'firstName':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'First name cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'lastName':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Last name cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return { hasError, error };\r\n};\r\n\r\nexport const postValidation = (\r\n  name,\r\n  value,\r\n  dispatch,\r\n  hasError,\r\n  error,\r\n  isFormValid,\r\n) => {\r\n  if (subscriptionsBoxes.includes(name) && value) {\r\n    dispatch({\r\n      type: UPDATE_FORM,\r\n      data: {\r\n        name: 'viewSubscriptions',\r\n        value: true,\r\n        hasError,\r\n        error,\r\n        touched: false,\r\n        isFormValid,\r\n      },\r\n    });\r\n  } else if (moviesBoxes.includes(name) && value) {\r\n    dispatch({\r\n      type: UPDATE_FORM,\r\n      data: {\r\n        name: 'viewMovies',\r\n        value: true,\r\n        hasError,\r\n        error,\r\n        touched: false,\r\n        isFormValid,\r\n      },\r\n    });\r\n  } else if (name === 'viewSubscriptions' && !value) {\r\n    for (const permission of subscriptionsBoxes) {\r\n      dispatch({\r\n        type: UPDATE_FORM,\r\n        data: {\r\n          name: permission,\r\n          value: false,\r\n          hasError,\r\n          error,\r\n          touched: false,\r\n          isFormValid,\r\n        },\r\n      });\r\n    }\r\n  } else if (name === 'viewMovies' && !value) {\r\n    for (const permission of moviesBoxes) {\r\n      dispatch({\r\n        type: UPDATE_FORM,\r\n        data: {\r\n          name: permission,\r\n          value: false,\r\n          hasError,\r\n          error,\r\n          touched: false,\r\n          isFormValid,\r\n        },\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const initialForm = {\r\n  firstName: {\r\n    label: 'First Name',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  lastName: {\r\n    label: 'Last Name',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  username: {\r\n    label: 'User Name',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  sessionTimeOut: {\r\n    label: 'Session time-out (In minutes)',\r\n    value: '',\r\n    type: 'number',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  viewSubscriptions: {\r\n    label: 'View Subscriptions',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  createSubscriptions: {\r\n    label: 'Create Subscriptions',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  deleteSubscriptions: {\r\n    label: 'Delete Subscriptions',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  updateSubscriptions: {\r\n    label: 'Update Subscriptions',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  viewMovies: {\r\n    label: 'View Movies',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  createMovies: {\r\n    label: 'Create Movies',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  deleteMovies: {\r\n    label: 'Delete Movies',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  updateMovies: {\r\n    label: 'Update Movies',\r\n    value: false,\r\n    type: 'checkbox',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  isFormValid: false,\r\n};\r\n","import React, { useEffect, useReducer, useState } from 'react';\r\nimport API from '../../../api';\r\nimport * as S from './styled';\r\nimport FormInput from '../../shared/FormInput';\r\nimport FormCheckbox from '../../shared/FormCheckbox';\r\nimport {\r\n  validateInput,\r\n  initialForm,\r\n  postValidation,\r\n} from '../../../utils/usersHelpers';\r\nimport { FormModal } from '../../shared/Modals';\r\nimport { PrimaryButton } from '../../shared/Buttons';\r\nimport {\r\n  initForm,\r\n  UPDATE_FORM,\r\n  STATUS,\r\n  focusOut,\r\n  inputChange,\r\n} from '../../../utils/formHelpers';\r\n\r\nconst UserForm = ({ token, url, buttonText, headerText, userData }) => {\r\n  const formReducer = initForm(initialForm);\r\n\r\n  const [formData, dispatch] = useReducer(formReducer, initialForm);\r\n  const [status, setStatus] = useState(STATUS.init);\r\n  const [message, setMessage] = useState('');\r\n  const [showError, setShowError] = useState(false);\r\n  const onInputChange = inputChange(validateInput, postValidation);\r\n  const onFocusOut = focusOut(validateInput);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setStatus(STATUS.loading);\r\n    let isFormValid = true;\r\n    try {\r\n      for (const name in formData) {\r\n        const item = formData[name];\r\n        const { value } = item;\r\n        const { hasError, error } = validateInput(name, value);\r\n        if (hasError) {\r\n          isFormValid = false;\r\n        }\r\n        if (name) {\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              name,\r\n              value,\r\n              hasError,\r\n              error,\r\n              touched: true,\r\n              isFormValid,\r\n            },\r\n          });\r\n        }\r\n      }\r\n      if (!isFormValid) {\r\n        setShowError(true);\r\n        setTimeout(() => {\r\n          setShowError(false);\r\n        }, 5000);\r\n      } else {\r\n        // form is valid\r\n        const formatedData = {};\r\n        for (const field in formData) {\r\n          formatedData[field] = formData[field].value;\r\n        }\r\n\r\n        const response = await API.post(url, formatedData, {\r\n          headers: { Authorization: `Barer ${token}` },\r\n        });\r\n        setStatus(STATUS.success);\r\n        setMessage(response.data.message);\r\n      }\r\n\r\n      // setFormData({ key: 'reset' });\r\n    } catch (error) {\r\n      setStatus(STATUS.fail);\r\n      setMessage(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userData) {\r\n      // get the user's permissions\r\n      const { permissions } = userData;\r\n      // set permissions as key-value pairs for the form\r\n      for (const permission of permissions) {\r\n        userData[permission] = true;\r\n      }\r\n      for (const key in userData) {\r\n        if (Object.hasOwnProperty.call(userData, key)) {\r\n          const value = userData[key];\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              value,\r\n              name: key,\r\n              touched: true,\r\n              isFormValid: true,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }, [userData]);\r\n\r\n  return (\r\n    <>\r\n      <FormModal status={status} setStatus={setStatus} message={message} />\r\n      <S.FormWrapper>\r\n        <S.Header>{headerText}</S.Header>\r\n        <S.FormHeader>\r\n          {showError && !formData.isFormValid && (\r\n            <S.FormError>Please fill all the fields correctly</S.FormError>\r\n          )}\r\n        </S.FormHeader>\r\n\r\n        <S.Form>\r\n          <S.InputsWrapper>\r\n            <S.Credentials>\r\n              {Object.keys(formData).map((key) => {\r\n                return (\r\n                  (formData[key].type === 'text' ||\r\n                    formData[key].type === 'number') && (\r\n                    <FormInput\r\n                      changed={(e) =>\r\n                        onInputChange(key, e.target.value, dispatch, formData)\r\n                      }\r\n                      key={key}\r\n                      id={key}\r\n                      data={formData[key]}\r\n                      onFocusOut={(e) =>\r\n                        onFocusOut(key, e.target.value, dispatch, formData)\r\n                      }\r\n                    />\r\n                  )\r\n                );\r\n              })}\r\n            </S.Credentials>\r\n            <S.Permissions>\r\n              {Object.keys(formData).map((key) => {\r\n                return (\r\n                  formData[key].type === 'checkbox' && (\r\n                    <FormCheckbox\r\n                      key={key}\r\n                      id={key}\r\n                      value={formData[key].value}\r\n                      label={formData[key].label}\r\n                      changed={(e) =>\r\n                        onInputChange(key, e.target.checked, dispatch, formData)\r\n                      }\r\n                      onFocusOut={onFocusOut}\r\n                    />\r\n                  )\r\n                );\r\n              })}\r\n            </S.Permissions>\r\n          </S.InputsWrapper>\r\n          <PrimaryButton type='submit' onClick={handleSubmit}>\r\n            {buttonText}\r\n          </PrimaryButton>\r\n        </S.Form>\r\n      </S.FormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n","import React from 'react';\r\nimport UserForm from './UserForm/UserForm';\r\n\r\nconst AddUser = ({ token }) => {\r\n  const URL = '/add-user';\r\n  const BUTTON_TEXT = 'Add User';\r\n  const HEADER_TEXT = 'New User';\r\n  return (\r\n    <>\r\n      <UserForm\r\n        token={token}\r\n        url={URL}\r\n        buttonText={BUTTON_TEXT}\r\n        headerText={HEADER_TEXT}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddUser;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport UserForm from './UserForm/UserForm';\r\n\r\nconst EditUser = ({ token, users }) => {\r\n  const URL = '/update-user';\r\n  const BUTTON_TEXT = 'Update user';\r\n  const HEADER_TEXT = 'Edit User';\r\n  let { userIndex } = useParams();\r\n  const userData = users[userIndex];\r\n  console.log('sss');\r\n  return (\r\n    <>\r\n      <UserForm\r\n        token={token}\r\n        url={URL}\r\n        buttonText={BUTTON_TEXT}\r\n        userData={userData}\r\n        headerText={HEADER_TEXT}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditUser;\r\n","import styled from 'styled-components';\r\n\r\nexport const InnerNav = styled.div`\r\n  padding-inline: 50px;\r\n  margin-bottom: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-inline: 50px;\r\n  grid-row: 1/1;\r\n  grid-column: 1/1;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    padding: 10px;\r\n    justify-content: space-between;\r\n    flex: 1;\r\n    flex-wrap: wrap;\r\n    justify-content: space-evenly;\r\n  }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { Switch, useRouteMatch } from 'react-router-dom';\r\nimport { useAuth } from '../context/UserContext';\r\nimport AllUsers from '../components/Users/AllUsers/AllUsers';\r\nimport AddUser from '../components/Users/AddUser';\r\nimport EditUser from '../components/Users/EditUser';\r\nimport { InnerNav } from '../components/shared/InnerNav';\r\nimport { StyledLink } from '../components/shared/Buttons';\r\nimport PrivateRoute from '../components/Auth/PrivateRoute';\r\n\r\nconst Users = () => {\r\n  const { path, url } = useRouteMatch();\r\n  const { authDetails } = useAuth();\r\n  const [users, setUsers] = useState(null);\r\n  return (\r\n    <>\r\n      <InnerNav>\r\n        <StyledLink to={`${url}`} activeClassName='active' exact>\r\n          All users\r\n        </StyledLink>\r\n        <StyledLink to={`${url}/add-user`} activeClassName='active'>\r\n          Add user\r\n        </StyledLink>\r\n      </InnerNav>\r\n      <Switch>\r\n        <PrivateRoute path={path} exact>\r\n          <AllUsers\r\n            token={authDetails.token}\r\n            users={users}\r\n            setUsers={setUsers}\r\n          />\r\n        </PrivateRoute>\r\n        <PrivateRoute path={`${path}/edit-user/:userIndex`}>\r\n          <EditUser token={authDetails.token} users={users} />\r\n        </PrivateRoute>\r\n        <PrivateRoute path={`${path}/add-user`}>\r\n          <AddUser token={authDetails.token} />\r\n        </PrivateRoute>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React, { useContext, useState, useCallback, useEffect } from 'react';\r\nimport { useAuth } from './UserContext';\r\nimport API from '../api';\r\n\r\nfunction sortShowsByName(a, b) {\r\n  const nameA = a.name.toUpperCase();\r\n  const nameB = b.name.toUpperCase();\r\n  if (nameA < nameB) {\r\n    return -1;\r\n  }\r\n  if (nameA > nameB) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nconst ShowsContext = React.createContext();\r\n\r\nexport const useShows = () => {\r\n  return useContext(ShowsContext);\r\n};\r\n\r\nexport const ShowsContextProvider = ({ children }) => {\r\n  const shows = useMoviesData();\r\n  return (\r\n    <ShowsContext.Provider value={shows}>{children}</ShowsContext.Provider>\r\n  );\r\n};\r\n\r\nfunction useMoviesData() {\r\n  const [initShows, setInitShows] = useState([]);\r\n  const [allGenres, setAllGenres] = useState([]);\r\n  const [filteredShows, setFilteredShows] = useState([]);\r\n  const { authDetails } = useAuth();\r\n\r\n  const getAllShows = useCallback(async () => {\r\n    try {\r\n      const token = authDetails.token;\r\n      const response = await API.get('/all-movies', {\r\n        headers: { Authorization: `Barer ${token}` },\r\n      });\r\n\r\n      setInitShows(response.data);\r\n      const genres = [\r\n        ...new Set(response.data.map((show) => show.genres).flat(1)),\r\n      ];\r\n      setAllGenres(genres);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [setInitShows, authDetails.token]);\r\n\r\n  const addNewShow = async (data) => {\r\n    try {\r\n      const response = await API.post('/add-movie', data, {\r\n        headers: { Authorization: `Barer ${authDetails.token}` },\r\n      });\r\n      getAllShows();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const editShow = async (data) => {\r\n    try {\r\n      const response = await API.post('/edit-movie', data, {\r\n        headers: { Authorization: `Barer ${authDetails.token}` },\r\n      });\r\n      getAllShows();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const deleteShow = async (showId) => {\r\n    try {\r\n      const response = await API.delete(`delete-movie/${showId}`, {\r\n        headers: { Authorization: `Barer ${authDetails.token}` },\r\n      });\r\n      getAllShows();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const getShowById = (showId) => {\r\n    const shows = initShows.find((show) => show._id === showId);\r\n    return shows;\r\n  };\r\n\r\n  const filterShows = (text, genres) => {\r\n    let allShows = Array.from(initShows);\r\n    if (text) {\r\n      allShows = filterShowsByName(text, allShows);\r\n    }\r\n    if (genres) {\r\n      allShows = filterShowsByGenre(genres, allShows);\r\n    }\r\n    setFilteredShows(allShows);\r\n  };\r\n\r\n  const filterShowsByName = (text, shows) => {\r\n    const newShows = shows.filter((show) =>\r\n      show.name.toLowerCase().includes(text.toLowerCase()),\r\n    );\r\n    newShows.sort(sortShowsByName);\r\n    return newShows;\r\n  };\r\n\r\n  const filterShowsByGenre = (genre, shows) => {\r\n    const newShows = shows.filter((show) => {\r\n      return genre.every((v) => show.genres.includes(v));\r\n    });\r\n    newShows.sort(sortShowsByName);\r\n    return newShows;\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllShows();\r\n  }, [getAllShows]);\r\n\r\n  useEffect(() => {\r\n    if (initShows.length > 0) {\r\n      initShows.sort(sortShowsByName);\r\n      setFilteredShows(initShows);\r\n    }\r\n  }, [initShows]);\r\n\r\n  return {\r\n    filterShows,\r\n    filteredShows,\r\n    setFilteredShows,\r\n    allGenres,\r\n    addNewShow,\r\n    editShow,\r\n    deleteShow,\r\n    getShowById,\r\n    initShows,\r\n  };\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const ShowCard = styled.div`\r\n  margin-inline: 2%;\r\n  margin-bottom: 5%;\r\n  width: 20%;\r\n  position: relative;\r\n  box-shadow: 0px 0px 2px 2px rgb(0 0 0 / 29%);\r\n  height: fit-content;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    margin-bottom: 15%;\r\n  }\r\n`;\r\n\r\nexport const ShowLink = styled(Link)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  transition: all 0.15s;\r\n  color: whitesmoke;\r\n\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    text-decoration: none;\r\n    color: whitesmoke;\r\n  }\r\n`;\r\n\r\nexport const CardBody = styled.div`\r\n  padding: 10px;\r\n`;\r\n\r\nexport const ShowTitle = styled.div`\r\n  color: whitesmoke;\r\n  font-weight: 700;\r\n  margin-block: 5px;\r\n`;\r\n\r\nexport const ShowHeader = styled.div``;\r\n\r\nexport const ShowImage = styled.img`\r\n  object-fit: contain;\r\n`;\r\n\r\nexport const Small = styled.small`\r\n  color: hsl(0deg 0% 56%);\r\n`;\r\n\r\nexport const Rating = styled.div`\r\n  border-radius: 30px;\r\n  background-color: orange;\r\n  position: absolute;\r\n  width: 70px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  inset-inline: 0;\r\n  inset-block-start: -20px;\r\n  color: whitesmoke;\r\n  font-weight: 500;\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(222, 86, 0, 1) 0%,\r\n    rgba(252, 176, 69, 1) 100%\r\n  );\r\n`;\r\n\r\nexport const CardFooter = styled.div`\r\n  padding: 5px;\r\n`;\r\n\r\nexport const SubscribersContainer = styled.div``;\r\n\r\nexport const Subscriber = styled(Link)`\r\n  background-color: #1f2c383d;\r\n  border-radius: 3px;\r\n  padding: 5px;\r\n  color: whitesmoke;\r\n  border: 1px solid #333333;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  transition: all 0.2s;\r\n  &:hover {\r\n    color: darkcyan;\r\n    background-color: hsl(209deg 29% 10% / 24%);\r\n  }\r\n`;\r\n","import React, { useContext, useState, useCallback, useEffect } from 'react';\r\nimport { useAuth } from './UserContext';\r\nimport API from '../api';\r\n\r\nconst SubscriptionsContext = React.createContext();\r\n\r\nexport const useSubscriptions = () => {\r\n  return useContext(SubscriptionsContext);\r\n};\r\n\r\nexport const SubscriptionsContextProvider = ({ children }) => {\r\n  const subscriptions = useSubscriptionsData();\r\n  return (\r\n    <SubscriptionsContext.Provider value={subscriptions}>\r\n      {children}\r\n    </SubscriptionsContext.Provider>\r\n  );\r\n};\r\n\r\nfunction useSubscriptionsData() {\r\n  const [allSubscriptions, setAllSubscriptions] = useState([]);\r\n  const { authDetails } = useAuth();\r\n\r\n  const getAllSubscriptions = useCallback(async () => {\r\n    try {\r\n      const token = authDetails.token;\r\n      const response = await API.get('/all-subscriptions', {\r\n        headers: { Authorization: `Barer ${token}` },\r\n      });\r\n\r\n      setAllSubscriptions(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [setAllSubscriptions, authDetails.token]);\r\n\r\n  const addNewSubscription = async (data) => {\r\n    try {\r\n      const response = await API.post('/add-subscription', data, {\r\n        headers: { Authorization: `Barer ${authDetails.token}` },\r\n      });\r\n      getAllSubscriptions();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const deleteSubscription = async (subscriptionId) => {\r\n    try {\r\n      const response = await API.delete(\r\n        `delete-subscription/${subscriptionId}`,\r\n        {\r\n          headers: { Authorization: `Barer ${authDetails.token}` },\r\n        },\r\n      );\r\n      getAllSubscriptions();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllSubscriptions();\r\n  }, [getAllSubscriptions]);\r\n\r\n  return {\r\n    allSubscriptions,\r\n    setAllSubscriptions,\r\n    addNewSubscription,\r\n    deleteSubscription,\r\n  };\r\n}\r\n","import React, { useContext, useState, useCallback, useEffect } from 'react';\r\nimport { useAuth } from './UserContext';\r\nimport API from '../api';\r\n\r\nconst MembersContext = React.createContext();\r\n\r\nexport const useMembers = () => {\r\n  return useContext(MembersContext);\r\n};\r\n\r\nexport const MembersContextProvider = ({ children }) => {\r\n  const members = useMembersData();\r\n  return (\r\n    <MembersContext.Provider value={members}>\r\n      {children}\r\n    </MembersContext.Provider>\r\n  );\r\n};\r\n\r\nfunction useMembersData() {\r\n  const [allMembers, setAllMembers] = useState([]);\r\n  const { authDetails } = useAuth();\r\n\r\n  const getAllMembers = useCallback(async () => {\r\n    try {\r\n      const token = authDetails.token;\r\n      const response = await API.get('/all-members', {\r\n        headers: { Authorization: `Barer ${token}` },\r\n      });\r\n\r\n      setAllMembers(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [setAllMembers, authDetails.token]);\r\n\r\n  const addNewMember = async (data) => {\r\n    try {\r\n      console.log('data', data);\r\n      const response = await API.post('/add-new-member', data, {\r\n        headers: { Authorization: `Barer ${authDetails.token}` },\r\n      });\r\n      getAllMembers();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const editMember = async (data) => {\r\n    try {\r\n      const response = await API.post('/edit-member', data, {\r\n        headers: { Authorization: `Barer ${authDetails.token}` },\r\n      });\r\n      getAllMembers();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error.response;\r\n    }\r\n  };\r\n\r\n  const deleteMember = async (memberId) => {\r\n    try {\r\n      const response = await API.delete(`delete-member/${memberId}`, {\r\n        headers: { Authorization: `Barer ${authDetails.token}` },\r\n      });\r\n      getAllMembers();\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const getMemberById = (memberId) => {\r\n    const member = allMembers.find((member) => {\r\n      return member._id === memberId;\r\n    });\r\n    return member;\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllMembers();\r\n  }, [getAllMembers]);\r\n\r\n  return {\r\n    allMembers,\r\n    setAllMembers,\r\n    addNewMember,\r\n    editMember,\r\n    deleteMember,\r\n    getMemberById,\r\n  };\r\n}\r\n","import React from 'react';\r\nimport * as S from './styled';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useSubscriptions } from '../../../context/SubscriptionsContext';\r\nimport { useMembers } from '../../../context/MembersContext';\r\nimport { useAuth } from '../../../context/UserContext';\r\n\r\nconst ShowDisplay = ({ show }) => {\r\n  const { path } = useRouteMatch();\r\n  const { authDetails } = useAuth();\r\n  const { allSubscriptions } = useSubscriptions();\r\n  const { getMemberById } = useMembers();\r\n  const showSubscribers = [];\r\n\r\n  if (authDetails.permissions.includes('viewSubscriptions')) {\r\n    allSubscriptions.forEach((subscription) => {\r\n      const isSubscribed = subscription.movies.find(\r\n        (movie) => movie.movieId === show._id,\r\n      );\r\n      if (isSubscribed) {\r\n        showSubscribers.push({\r\n          date: isSubscribed.date,\r\n          member: getMemberById(subscription.memberId),\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <S.ShowCard>\r\n      <S.ShowLink to={`${path}/${show._id}`}>\r\n        <S.ShowHeader>\r\n          <S.Rating>{show.rating}</S.Rating>\r\n          <S.ShowImage width='100%' height='280' src={`${show.image}`} />\r\n        </S.ShowHeader>\r\n        <S.CardBody>\r\n          <S.ShowTitle>{show.name}</S.ShowTitle>\r\n          <S.Small>{show.genres.join(', ')}</S.Small>\r\n        </S.CardBody>\r\n      </S.ShowLink>\r\n      {authDetails.permissions.includes('viewSubscriptions') && (\r\n        <>\r\n          <hr />\r\n          <S.CardFooter>\r\n            <h6>Subscribers</h6>\r\n            <S.SubscribersContainer>\r\n              {showSubscribers.map((subsciption) => {\r\n                return (\r\n                  // Add functionality to scroll down and highlight the member that was clicked\r\n                  <S.Subscriber\r\n                    to='/main/members/'\r\n                    key={subsciption.member._id}>\r\n                    <span>{subsciption.member.name}</span>\r\n                    <S.Small>{subsciption.date}</S.Small>\r\n                  </S.Subscriber>\r\n                );\r\n              })}\r\n            </S.SubscribersContainer>\r\n          </S.CardFooter>\r\n        </>\r\n      )}\r\n    </S.ShowCard>\r\n  );\r\n};\r\n\r\nexport default ShowDisplay;\r\n","import styled from 'styled-components';\r\n\r\nexport const MoviesGrid = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  overflow: auto;\r\n  padding-top: 50px;\r\n  width: 100%;\r\n  background: linear-gradient(#121417 0%, rgba(255, 255, 255, 0) 100%),\r\n    linear-gradient(rgba(255, 255, 255, 0), #121417 70%) 0 100%,\r\n    radial-gradient(farthest-side at 50% 0, rgb(0 0 0 / 69%), rgb(0 0 0 / 0%)),\r\n    radial-gradient(\r\n        farthest-side at 50% 100%,\r\n        rgba(0, 0, 0, 0.2),\r\n        rgba(0, 0, 0, 0)\r\n      )\r\n      0 100%;\r\n  background-repeat: no-repeat;\r\n  background-color: transparent;\r\n  background-size: 100% 40px, 100% 40px, 100% 40px, 100% 14px;\r\n\r\n  /* Opera doesn't support this in the shorthand */\r\n  background-attachment: local, local, scroll, scroll;\r\n`;\r\n\r\nexport const AllShowsContainer = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const SideNav = styled.div`\r\n  flex-grow: 2;\r\n`;\r\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useShows } from '../../../context/ShowsContext';\r\nimport ShowDisplay from '../ShowDisplay/ShowDisplay';\r\nimport * as S from './styled';\r\n\r\nconst SHOWS_PER_PAGE = 20;\r\n\r\nconst AllShows = () => {\r\n  const { filteredShows } = useShows();\r\n  const loader = useRef(null);\r\n  const rootElement = useRef(null);\r\n  const [page, setPage] = useState(0);\r\n\r\n  const [showsToRender, setShowsToRender] = useState([]);\r\n\r\n  const [initialLoad, setInitialLoad] = useState(true);\r\n\r\n  const hasMoreData = showsToRender.length < filteredShows.length;\r\n\r\n  const loadMoreShows = useCallback(() => {\r\n    if (hasMoreData) {\r\n      const newShows = Array.from(filteredShows).slice(\r\n        page * SHOWS_PER_PAGE,\r\n        (page + 1) * SHOWS_PER_PAGE,\r\n      );\r\n      setShowsToRender((shows) => [...shows, ...newShows]);\r\n      setTimeout(() => {\r\n        setPage((page) => page + 1);\r\n      }, 100);\r\n    }\r\n  }, [filteredShows, page, hasMoreData]);\r\n\r\n  const handleObserver = useCallback(\r\n    (entities) => {\r\n      const target = entities[0];\r\n      if (target.isIntersecting) {\r\n        loadMoreShows();\r\n      }\r\n    },\r\n    [loadMoreShows],\r\n  );\r\n\r\n  useEffect(() => {\r\n    setPage(0);\r\n    setShowsToRender([]);\r\n    setInitialLoad(true);\r\n  }, [filteredShows]);\r\n\r\n  useEffect(() => {\r\n    if (loader.current && rootElement.current) {\r\n      const toObserve = loader.current;\r\n      const options = {\r\n        root: rootElement.current,\r\n        rootMargin: '20px',\r\n        threshold: 1.0,\r\n      };\r\n      const observer = new IntersectionObserver(handleObserver, options);\r\n      observer.observe(toObserve);\r\n      return () => observer.unobserve(toObserve);\r\n    }\r\n  }, [loader, handleObserver]);\r\n\r\n  useEffect(() => {\r\n    if (initialLoad) {\r\n      loadMoreShows();\r\n      setInitialLoad(false);\r\n    }\r\n  }, [loadMoreShows, initialLoad]);\r\n\r\n  return showsToRender.length > 0 ? (\r\n    <S.AllShowsContainer>\r\n      <S.MoviesGrid ref={rootElement}>\r\n        {showsToRender.map((movie, index) => {\r\n          return <ShowDisplay show={movie} key={movie._id} />;\r\n        })}\r\n        <div ref={loader}></div>\r\n      </S.MoviesGrid>\r\n    </S.AllShowsContainer>\r\n  ) : (\r\n    <div>SPINNER!!</div>\r\n  );\r\n};\r\n\r\nexport default AllShows;\r\n","import styled from 'styled-components';\r\n\r\nexport const FormWrapper = styled.div`\r\n  max-width: 90%;\r\n  margin: auto;\r\n  padding-block: 20px;\r\n  background-color: #1f2c383d;\r\n  border-radius: 20px;\r\n  @media (max-width: 768px) {\r\n    max-height: 65vh;\r\n    overflow-y: auto;\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  width: 100%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  display: flex;\r\n`;\r\n\r\nexport const FormError = styled.div`\r\n  color: #721c24;\r\n  background-color: #f8d7da;\r\n  border-color: #f5c6cb;\r\n  padding: 0.5rem 1.25rem;\r\n  border: 1px solid transparent;\r\n  border-radius: 0.25rem;\r\n  margin: 0 auto;\r\n  max-width: 50%;\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormHeader = styled.div`\r\n  text-align: center;\r\n  min-height: 75px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const TextArea = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const LeftInputs = styled.div``;\r\nexport const RightInputs = styled.div``;\r\nexport const InputsWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  min-width: 90%;\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    max-width: 100%;\r\n    align-items: center;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nconst Error = styled.div`\r\n  color: red;\r\n`;\r\n\r\nconst StyledLabel = styled(Form.Label)`\r\n  margin-bottom: 0;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledFormGroup = styled(Form.Group)`\r\n  width: 350px;\r\n  height: 100%;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst FormInput = ({ changed, data, id, onFocusOut }) => {\r\n  const { value, type, error, touched, label, hasError } = data;\r\n\r\n  return (\r\n    <StyledFormGroup>\r\n      <StyledLabel>\r\n        {label}\r\n        <Form.Control\r\n          id={id}\r\n          onChange={changed}\r\n          value={value || ''}\r\n          name={id}\r\n          type={type}\r\n          onBlur={onFocusOut}\r\n          as='textarea'\r\n          rows={8}\r\n        />\r\n      </StyledLabel>\r\n      {touched && hasError && <Error className='error'>{error}</Error>}\r\n    </StyledFormGroup>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","export const validateInput = (name, value) => {\r\n  let hasError = false,\r\n    error = '';\r\n  switch (name) {\r\n    case 'name':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Username cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'genres':\r\n      if (value.length === 0) {\r\n        hasError = true;\r\n        error = 'Genres can not be empty';\r\n      } else if (value.length > 6) {\r\n        hasError = true;\r\n        error = 'Please select up to 6 Genres';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'image':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Image cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'premiered':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Premiered date cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n    case 'summary':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Summary cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n    case 'rating':\r\n      if (value.toString().trim() === '') {\r\n        hasError = true;\r\n        error = 'Rating cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return { hasError, error };\r\n};\r\n\r\nexport const initialForm = {\r\n  name: {\r\n    label: 'Name',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n\r\n  premiered: {\r\n    label: 'Premiered',\r\n    value: '',\r\n    type: 'date',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  rating: {\r\n    label: 'Rating',\r\n    value: 0,\r\n    type: 'number',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  image: {\r\n    label: 'Image url',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  genres: {\r\n    label: 'Genres',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  summary: {\r\n    label: 'Summary',\r\n    value: '',\r\n    type: 'textarea',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n\r\n  isFormValid: false,\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport styled from 'styled-components';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nconst MaxOptions = styled.div`\r\n  color: lightgray;\r\n`;\r\n\r\nconst Error = styled.div`\r\n  color: red;\r\n`;\r\n\r\nconst StyledLabel = styled(Form.Label)`\r\n  margin-bottom: 0;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledFormGroup = styled(Form.Group)`\r\n  width: ${(props) => props.width || 250}px;\r\n`;\r\n\r\nconst colourStyles = {\r\n  control: (styles) => ({ ...styles, backgroundColor: 'whitesmoke' }),\r\n  option: (styles, { isSelected, isFocused }) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isFocused ? 'hsl(249deg 43% 46%/ 10%)' : null,\r\n      color: 'hsl(249deg 43% 46%)',\r\n      ':active': {\r\n        ...styles[':active'],\r\n        backgroundColor: isSelected\r\n          ? 'hsl(249deg 43% 46%)'\r\n          : 'hsl(249deg 43% 20%)',\r\n      },\r\n    };\r\n  },\r\n  multiValue: (styles) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: 'hsl(249deg 43% 46% / 15%)',\r\n    };\r\n  },\r\n  multiValueLabel: (styles) => ({\r\n    ...styles,\r\n    color: 'hsl(249deg 43% 46%)',\r\n  }),\r\n  multiValueRemove: (styles) => ({\r\n    ...styles,\r\n    color: 'hsl(249deg 43% 46%)',\r\n    ':hover': {\r\n      backgroundColor: 'hsl(249deg 43% 46%)',\r\n      color: 'white',\r\n    },\r\n  }),\r\n};\r\n\r\nconst MultiSelect = ({\r\n  options,\r\n  changed,\r\n  data,\r\n  id,\r\n  onFocusOut,\r\n  width,\r\n  maxOptions,\r\n  initialGenres,\r\n}) => {\r\n  const [values, setValues] = useState([]);\r\n  const select = useRef(null);\r\n  const [selectOptions, setSelectOptions] = useState([]);\r\n\r\n  const { error, touched, label, hasError } = data;\r\n\r\n  const handleChange = (newValue) => {\r\n    const value = newValue.map((val) => val.value);\r\n    changed(value);\r\n    setValues(newValue);\r\n  };\r\n\r\n  const handleFocusOut = () => {\r\n    onFocusOut(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const formatOptions = options.map((option) => {\r\n      if (option && option.value) {\r\n        return option;\r\n      }\r\n      return { value: option, label: option };\r\n    });\r\n    setSelectOptions(formatOptions);\r\n  }, [options]);\r\n\r\n  useEffect(() => {\r\n    setValues(initialGenres);\r\n  }, [initialGenres]);\r\n\r\n  return (\r\n    <StyledFormGroup width={width}>\r\n      <StyledLabel>\r\n        {label}\r\n        <CreatableSelect\r\n          ref={select}\r\n          isMulti\r\n          onChange={handleChange}\r\n          options={values.length >= maxOptions ? null : selectOptions}\r\n          styles={colourStyles}\r\n          id={id}\r\n          closeMenuOnSelect={false}\r\n          name={id}\r\n          onBlur={handleFocusOut}\r\n          value={values}\r\n          noOptionsMessage={() => 'Maximum number of genres selected'}\r\n        />\r\n      </StyledLabel>\r\n      {values.length >= maxOptions && (\r\n        <MaxOptions>Maximum number of genres selected</MaxOptions>\r\n      )}\r\n      {touched && hasError && <Error>{error}</Error>}\r\n    </StyledFormGroup>\r\n  );\r\n};\r\n\r\nexport default MultiSelect;\r\n","import React, { useEffect, useReducer, useState } from 'react';\r\nimport * as S from './styled';\r\nimport FormInput from '../../shared/FormInput';\r\nimport FormTextArea from '../../shared/FormTextArea';\r\nimport { validateInput, initialForm } from '../../../utils/moviesHelpers';\r\nimport { FormModal } from '../../shared/Modals';\r\nimport { PrimaryButton } from '../../shared/Buttons';\r\nimport MultiSelect from '../../shared/FormMultiSelect';\r\nimport { useShows } from '../../../context/ShowsContext';\r\nimport {\r\n  initForm,\r\n  UPDATE_FORM,\r\n  STATUS,\r\n  focusOut,\r\n  inputChange,\r\n} from '../../../utils/formHelpers';\r\n\r\nconst leftInputs = ['name', 'genres', 'image'];\r\nconst centerInputs = ['premiered', 'rating'];\r\n\r\nconst ShowForm = ({ action, buttonText, headerText, showData }) => {\r\n  const formReducer = initForm(initialForm);\r\n  const [formData, dispatch] = useReducer(formReducer, initialForm);\r\n  const [status, setStatus] = useState(STATUS.init);\r\n  const [message, setMessage] = useState('');\r\n  const [showError, setShowError] = useState(false);\r\n  const [selectedGenres, setSelectedGenres] = useState([]);\r\n\r\n  const onInputChange = inputChange(validateInput);\r\n  const onFocusOut = focusOut(validateInput);\r\n\r\n  const { allGenres } = useShows();\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setStatus(STATUS.loading);\r\n    let isFormValid = true;\r\n    try {\r\n      for (const name in formData) {\r\n        const item = formData[name];\r\n        const { value } = item;\r\n        const { hasError, error } = validateInput(name, value);\r\n        if (hasError) {\r\n          isFormValid = false;\r\n        }\r\n        if (name) {\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              name,\r\n              value,\r\n              hasError,\r\n              error,\r\n              touched: true,\r\n              isFormValid,\r\n            },\r\n          });\r\n        }\r\n      }\r\n      if (!isFormValid) {\r\n        setShowError(true);\r\n      } else {\r\n        // form is valid\r\n        const formatedData = {};\r\n        for (const name in formData) {\r\n          if (\r\n            name === 'genres' &&\r\n            typeof formData[name].value[0] !== 'string'\r\n          ) {\r\n            formatedData[name] = formData[name].value.map(\r\n              (genre) => genre.value,\r\n            );\r\n          } else {\r\n            formatedData[name] = formData[name].value;\r\n          }\r\n        }\r\n        const response = await action(formatedData);\r\n        setStatus(STATUS.success);\r\n        setMessage(response.data.message);\r\n      }\r\n\r\n      // setFormData({ key: 'reset' });\r\n    } catch (error) {\r\n      setStatus(STATUS.fail);\r\n      console.log(error.message);\r\n      setMessage(error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showData) {\r\n      for (const key in showData) {\r\n        if (Object.hasOwnProperty.call(showData, key)) {\r\n          const value = showData[key];\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              value,\r\n              name: key,\r\n              touched: true,\r\n              isFormValid: true,\r\n            },\r\n          });\r\n          if (key === 'genres') {\r\n            const formatGenres = showData[key].map((genre) => {\r\n              if (genre && genre.value) {\r\n                return genre;\r\n              }\r\n              return { value: genre, label: genre };\r\n            });\r\n            setSelectedGenres(formatGenres);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [showData]);\r\n\r\n  return (\r\n    <>\r\n      <FormModal status={status} setStatus={setStatus} message={message} />\r\n      <S.FormWrapper>\r\n        <S.Header>{headerText}</S.Header>\r\n        <S.FormHeader>\r\n          {showError && !formData.isFormValid && (\r\n            <S.FormError>Please fill all the fields correctly</S.FormError>\r\n          )}\r\n        </S.FormHeader>\r\n        <S.Form>\r\n          <S.InputsWrapper>\r\n            <S.LeftInputs>\r\n              {Object.keys(formData).map((key) => {\r\n                return (\r\n                  leftInputs.includes(key) && (\r\n                    <React.Fragment key={key}>\r\n                      {key === 'genres' ? (\r\n                        <MultiSelect\r\n                          options={allGenres}\r\n                          data={formData[key]}\r\n                          initialGenres={selectedGenres}\r\n                          id={key}\r\n                          changed={(value) =>\r\n                            onInputChange(key, value, dispatch, formData)\r\n                          }\r\n                          onFocusOut={(value) =>\r\n                            onFocusOut(key, value, dispatch, formData)\r\n                          }\r\n                          isMulti\r\n                          maxOptions={5}\r\n                          key={key}\r\n                        />\r\n                      ) : (\r\n                        <FormInput\r\n                          changed={(e) =>\r\n                            onInputChange(\r\n                              key,\r\n                              e.target.value,\r\n                              dispatch,\r\n                              formData,\r\n                            )\r\n                          }\r\n                          key={key}\r\n                          id={key}\r\n                          data={formData[key]}\r\n                          onFocusOut={(e) =>\r\n                            onFocusOut(key, e.target.value, dispatch, formData)\r\n                          }\r\n                        />\r\n                      )}\r\n                    </React.Fragment>\r\n                  )\r\n                );\r\n              })}\r\n            </S.LeftInputs>\r\n            <S.RightInputs>\r\n              {Object.keys(formData).map((key) => {\r\n                return (\r\n                  centerInputs.includes(key) && (\r\n                    <FormInput\r\n                      changed={(e) =>\r\n                        onInputChange(key, e.target.value, dispatch, formData)\r\n                      }\r\n                      key={key}\r\n                      id={key}\r\n                      data={formData[key]}\r\n                      onFocusOut={(e) =>\r\n                        onFocusOut(key, e.target.value, dispatch, formData)\r\n                      }\r\n                    />\r\n                  )\r\n                );\r\n              })}\r\n            </S.RightInputs>\r\n            <S.TextArea>\r\n              {Object.keys(formData).map((key) => {\r\n                return (\r\n                  key === 'summary' && (\r\n                    <FormTextArea\r\n                      changed={(e) =>\r\n                        onInputChange(key, e.target.value, dispatch, formData)\r\n                      }\r\n                      key={key}\r\n                      id={key}\r\n                      data={formData[key]}\r\n                      onFocusOut={(e) =>\r\n                        onFocusOut(key, e.target.value, dispatch, formData)\r\n                      }\r\n                    />\r\n                  )\r\n                );\r\n              })}\r\n            </S.TextArea>\r\n          </S.InputsWrapper>\r\n          <PrimaryButton\r\n            type='submit'\r\n            onClick={handleSubmit}\r\n            disabled={!formData.isFormValid}>\r\n            {buttonText}\r\n          </PrimaryButton>\r\n        </S.Form>\r\n      </S.FormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShowForm;\r\n","import React from 'react';\r\nimport ShowForm from './ShowsForm/ShowsForm';\r\nimport { useShows } from '../../context/ShowsContext';\r\n\r\nconst AddShow = () => {\r\n  const BUTTON_TEXT = 'Add Show';\r\n  const HEADER_TEXT = 'New Show';\r\n  const { addNewShow } = useShows();\r\n  return (\r\n    <>\r\n      <ShowForm\r\n        action={addNewShow}\r\n        buttonText={BUTTON_TEXT}\r\n        headerText={HEADER_TEXT}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddShow;\r\n","import React from 'react';\r\nimport ShowForm from './ShowsForm/ShowsForm';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useShows } from '../../context/ShowsContext';\r\n\r\nconst EditShow = () => {\r\n  const BUTTON_TEXT = 'Update Show';\r\n  const HEADER_TEXT = 'Edit Show';\r\n  let { showId } = useParams();\r\n  const { initShows, editShow } = useShows();\r\n  const showData = initShows.find((show) => show._id === showId);\r\n\r\n  return (\r\n    <div>\r\n      <ShowForm\r\n        action={editShow}\r\n        buttonText={BUTTON_TEXT}\r\n        headerText={HEADER_TEXT}\r\n        showData={showData}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditShow;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  padding: 20px;\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nexport const MovieHeader = styled.div`\r\n  height: 30%;\r\n`;\r\n\r\nexport const MovieImage = styled.img`\r\n  object-fit: contain;\r\n  min-width: 0;\r\n  min-height: 0;\r\n  flex: 1 1 30%;\r\n  max-width: 40%;\r\n`;\r\n\r\nexport const MovieTitle = styled.h2`\r\n  color: whitesmoke;\r\n  font-size: 3rem;\r\n`;\r\n\r\nexport const DescriptionContainer = styled.div`\r\n  color: whitesmoke;\r\n  padding-inline: 30px;\r\n  flex: 1 1 70%;\r\n\r\n  @media (max-width: 768px) {\r\n    overflow: auto;\r\n    max-height: 40vh;\r\n    margin-top: 22px;\r\n  }\r\n`;\r\n\r\nexport const MovieDescription = styled.div`\r\n  color: whitesmoke;\r\n  overflow: auto;\r\n  height: 70%;\r\n`;\r\n\r\nexport const RatingGenersContainer = styled.div`\r\n  display: flex;\r\n  gap: 50px;\r\n  margin-block: 15px;\r\n  align-items: center;\r\n  @media (max-width: 768px) {\r\n    gap: 10px;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nexport const Genres = styled.div`\r\n  color: hsl(0deg 0% 56%);\r\n`;\r\nexport const Rating = styled.div`\r\n  border-radius: 30px;\r\n  background-color: orange;\r\n  width: 70px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 500;\r\n\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(222, 86, 0, 1) 0%,\r\n    rgba(252, 176, 69, 1) 100%\r\n  );\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams, useRouteMatch, useHistory } from 'react-router-dom';\r\nimport Icon from '@mdi/react';\r\nimport { mdiAccountEditOutline, mdiDeleteOutline } from '@mdi/js';\r\nimport * as S from './styled';\r\nimport { useShows } from '../../../context/ShowsContext';\r\nimport { OutLineButtonLink, OutLineButton } from '../../shared/Buttons';\r\nimport { useAuth } from '../../../context/UserContext';\r\n\r\nconst ShowDescription = () => {\r\n  const { deleteShow, getShowById } = useShows();\r\n  const { showId } = useParams();\r\n  const { url } = useRouteMatch();\r\n  const [selectedMovie, setSelectedMovie] = useState(null);\r\n  const history = useHistory();\r\n  const { authDetails } = useAuth();\r\n\r\n  const handleDelete = async (showId) => {\r\n    try {\r\n      const response = await deleteShow(showId);\r\n      history.push('/main/shows');\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const show = getShowById(showId);\r\n    setSelectedMovie(show);\r\n  }, [showId, getShowById]);\r\n\r\n  return selectedMovie ? (\r\n    <S.Wrapper>\r\n      <S.MovieImage src={selectedMovie.image} />\r\n      <S.DescriptionContainer>\r\n        <S.MovieHeader>\r\n          <S.MovieTitle>{selectedMovie.name}</S.MovieTitle>\r\n          <S.RatingGenersContainer>\r\n            <S.Genres>{selectedMovie.genres.join(', ')}</S.Genres>\r\n            <S.Rating>{selectedMovie.rating}</S.Rating>\r\n            {authDetails.permissions.includes('updateMovies') && (\r\n              <OutLineButtonLink to={`${url}/edit`} BColor='darkcyan'>\r\n                <Icon\r\n                  path={mdiAccountEditOutline}\r\n                  title='User Profile'\r\n                  size={1}\r\n                />\r\n                Edit\r\n              </OutLineButtonLink>\r\n            )}\r\n            {authDetails.permissions.includes('deleteMovies') && (\r\n              <OutLineButton\r\n                onClick={() => handleDelete(showId)}\r\n                BColor='#522a2a'>\r\n                <Icon path={mdiDeleteOutline} title='User Profile' size={1} />\r\n                Delete\r\n              </OutLineButton>\r\n            )}\r\n          </S.RatingGenersContainer>\r\n        </S.MovieHeader>\r\n        <S.MovieDescription\r\n          dangerouslySetInnerHTML={{ __html: selectedMovie.summary }}\r\n        />\r\n      </S.DescriptionContainer>\r\n    </S.Wrapper>\r\n  ) : (\r\n    <div>SPINNER!!</div>\r\n  );\r\n};\r\n\r\nexport default ShowDescription;\r\n","import styled from 'styled-components';\r\nimport { Form } from 'react-bootstrap';\r\nimport Icon from '@mdi/react';\r\n\r\nexport const SideNav = styled.div`\r\n  display: flex;\r\n  gap: 20px;\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    margin-block: 10px;\r\n  }\r\n`;\r\n\r\nexport const SearchShow = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto 2.5rem;\r\n  align-items: center;\r\n`;\r\n\r\nexport const StyledIcon = styled(Icon)`\r\n  grid-row: 1;\r\n  grid-column: 2;\r\n  pointer-events: none;\r\n`;\r\n\r\nexport const StyledLabel = styled(Form.Label)``;\r\n\r\nexport const StyledFormGroup = styled(Form.Group)`\r\n  width: ${(props) => props.width || 250};\r\n`;\r\n\r\nexport const StyledInput = styled(Form.Control)`\r\n  grid-row: 1;\r\n  grid-column: 1 / span 2;\r\n  width: 350px;\r\n  background-color: transparent;\r\n  border: none;\r\n  border: 1px solid transparent;\r\n  border-bottom: 1px solid #333333;\r\n  transition: 0.2s all;\r\n  grid-row: 1;\r\n  grid-column: 1 / span 2;\r\n  @media (max-width: 768px) {\r\n    width: 300px;\r\n  }\r\n  &:focus,\r\n  &:focus-visible,\r\n  &:hover {\r\n    color: whitesmoke;\r\n    background-color: hsl(209deg 15% 8%);\r\n    outline: 0;\r\n    box-shadow: 0px 0px 4px 2px rgb(0 0 0 / 100%);\r\n    border: 1px solid #333333;\r\n  }\r\n`;\r\n\r\nexport const SearchGenres = styled.div`\r\n  min-width: 300px;\r\n  max-width: 500px;\r\n  @media (max-width: 768px) {\r\n    max-width: 300px;\r\n  }\r\n`;\r\n\r\nexport const colourStyles = {\r\n  control: (styles, { isFocused }) => ({\r\n    ...styles,\r\n    backgroundColor: 'transparent',\r\n    borderColor: '#333333',\r\n    ':hover': {\r\n      borderColor: '#333333',\r\n      boxShadow: '0px 0px 4px 2px rgb(0 0 0 / 100%)',\r\n    },\r\n    ':active': {\r\n      borderColor: '#333333',\r\n      boxShadow: '0px 0px 4px 2px rgb(0 0 0 / 100%)',\r\n    },\r\n    ':focus': {\r\n      borderColor: '#333333',\r\n      boxShadow: '0px 0px 4px 2px rgb(0 0 0 / 100%)',\r\n    },\r\n    ':focus-within': {\r\n      borderColor: '#333333',\r\n      boxShadow: '0px 0px 4px 2px rgb(0 0 0 / 100%)',\r\n    },\r\n  }),\r\n  option: (styles, { isSelected, isFocused }) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isFocused ? 'hsl(249deg 43% 46%/ 10%)' : null,\r\n      color: 'hsl(249deg 43% 46%)',\r\n      ':active': {\r\n        ...styles[':active'],\r\n        backgroundColor: isSelected\r\n          ? 'hsl(249deg 43% 46%)'\r\n          : 'hsl(249deg 43% 20%)',\r\n      },\r\n    };\r\n  },\r\n  dropdownIndicator: (styles) => {\r\n    return {\r\n      ...styles,\r\n      color: '#333333',\r\n    };\r\n  },\r\n  clearIndicator: (styles) => {\r\n    return {\r\n      ...styles,\r\n      color: '#333333',\r\n    };\r\n  },\r\n  indicatorSeparator: (styles) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: '#333333',\r\n    };\r\n  },\r\n  multiValue: (styles) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: 'hsl(249deg 43% 46% / 15%)',\r\n    };\r\n  },\r\n  multiValueLabel: (styles) => ({\r\n    ...styles,\r\n    color: 'hsl(249deg 43% 46%)',\r\n  }),\r\n  multiValueRemove: (styles) => ({\r\n    ...styles,\r\n    color: 'hsl(249deg 43% 46%)',\r\n    ':hover': {\r\n      backgroundColor: 'hsl(249deg 43% 46%)',\r\n      color: 'white',\r\n    },\r\n  }),\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport * as S from './styled';\r\nimport { mdiMagnify } from '@mdi/js';\r\nimport { useShows } from '../../../context/ShowsContext';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { Accordion } from 'react-bootstrap';\r\n\r\nconst ShowControls = () => {\r\n  const { allGenres, filterShows } = useShows();\r\n  const [genres, setGenres] = useState([]);\r\n  const [selectedGenres, setSelectedGenres] = useState([]);\r\n  const [searchName, setSearchName] = useState('');\r\n  const [searchGenres, setSearchGenres] = useState([]);\r\n  const [initialLoad, setInitialLoad] = useState(true);\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    const value = e.target.value;\r\n    setSearchName(value);\r\n    filterShows(value, searchGenres);\r\n  };\r\n\r\n  const handleSelectGenre = (newValue) => {\r\n    const value = newValue.map((val) => val.value);\r\n    setSearchGenres(value);\r\n    filterShows(searchName, value);\r\n    setSelectedGenres(newValue);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const formatGenres = allGenres.map((genre) => {\r\n      if (genre && genre.value) {\r\n        return genre;\r\n      }\r\n      return { value: genre, label: genre };\r\n    });\r\n    setGenres(formatGenres);\r\n  }, [allGenres]);\r\n\r\n  useEffect(() => {\r\n    if (initialLoad) {\r\n      filterShows('', '');\r\n      setInitialLoad(false);\r\n    }\r\n  }, [filterShows, initialLoad]);\r\n\r\n  return (\r\n    <>\r\n      <Accordion.Collapse eventKey='0'>\r\n        <S.SideNav>\r\n          <S.SearchShow>\r\n            <S.StyledInput\r\n              placeholder='Search Shows...'\r\n              onChange={handleChange}\r\n            />\r\n            <S.StyledIcon\r\n              path={mdiMagnify}\r\n              title='User Profile'\r\n              size={1}\r\n              color='hsl(0deg 0% 44%)'\r\n            />\r\n          </S.SearchShow>\r\n          <S.SearchGenres>\r\n            <CreatableSelect\r\n              isMulti\r\n              onChange={handleSelectGenre}\r\n              options={genres}\r\n              styles={S.colourStyles}\r\n              closeMenuOnSelect={false}\r\n              value={selectedGenres}\r\n            />\r\n          </S.SearchGenres>\r\n        </S.SideNav>\r\n      </Accordion.Collapse>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShowControls;\r\n\r\n/*\r\n\r\n              <Accordion defaultActiveKey='0' as='div' flush>\r\n          <Accordion.Item eventKey='0'>\r\n            <Accordion.Header>Filters</Accordion.Header>\r\n            <Accordion.Body>\r\n            </Accordion.Body>\r\n          </Accordion.Item>\r\n        </Accordion>\r\n\r\n        */\r\n","import React from 'react';\r\nimport { Switch, useRouteMatch, Route } from 'react-router-dom';\r\nimport PrivateRoute from '../components/Auth/PrivateRoute';\r\nimport AllShows from '../components/Shows/AllShows/AllShows';\r\nimport AddShow from '../components/Shows/AddShow';\r\nimport EditShow from '../components/Shows/EditShow';\r\nimport { InnerNav } from '../components/shared/InnerNav';\r\nimport { StyledLink, OutLineButton } from '../components/shared/Buttons';\r\nimport ShowDescription from '../components/Shows/ShowDescription/ShowDesciprtion';\r\nimport { useAuth } from '../context/UserContext';\r\nimport ShowControls from '../components/Shows/Controls/ShowControls';\r\nimport styled from 'styled-components';\r\nimport { Accordion } from 'react-bootstrap';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport { linkButtonCss } from '../components/shared/Buttons';\r\n\r\nconst LinksWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  @media (max-width: 768px) {\r\n    flex-wrap: wrap;\r\n  }\r\n`;\r\n\r\nconst StyledToggle = styled(Accordion.Toggle)`\r\n  ${linkButtonCss}\r\n  background-color: transparent;\r\n  border: none;\r\n`;\r\n\r\nconst Shows = () => {\r\n  const { path, url } = useRouteMatch();\r\n  const { authDetails } = useAuth();\r\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 1224px)' });\r\n\r\n  return (\r\n    <>\r\n      <Accordion defaultActiveKey={!isTabletOrMobile && '0'}>\r\n        <InnerNav>\r\n          <LinksWrapper>\r\n            <StyledLink to={`${url}`} activeClassName='active' exact>\r\n              All shows\r\n            </StyledLink>\r\n            {authDetails.permissions.includes('createMovies') && (\r\n              <StyledLink to={`${url}/add-show`} activeClassName='active'>\r\n                Add show\r\n              </StyledLink>\r\n            )}\r\n            <Route path={path} exact>\r\n              {isTabletOrMobile && (\r\n                <StyledToggle eventKey='0'>Search Tools</StyledToggle>\r\n              )}\r\n              <ShowControls />\r\n            </Route>\r\n          </LinksWrapper>\r\n        </InnerNav>\r\n      </Accordion>\r\n      <Switch>\r\n        <PrivateRoute path={path} exact>\r\n          <AllShows />\r\n        </PrivateRoute>\r\n        {authDetails.permissions.includes('viewSubscriptions') && (\r\n          <PrivateRoute path={`${path}/add-show`} exact>\r\n            <AddShow />\r\n          </PrivateRoute>\r\n        )}\r\n        {authDetails.permissions.includes('viewSubscriptions') && (\r\n          <PrivateRoute path={`${path}/:showId/edit`}>\r\n            <EditShow />\r\n          </PrivateRoute>\r\n        )}\r\n        {authDetails.permissions.includes('viewMovies') && (\r\n          <PrivateRoute path={`${path}/:showId`}>\r\n            <ShowDescription />\r\n          </PrivateRoute>\r\n        )}\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Shows;\r\n","import styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport const MoviesWatchedWrapper = styled.div`\r\n  padding: 5px;\r\n  height: 55%;\r\n`;\r\n\r\nexport const MoviesHeader = styled.h5``;\r\n\r\nexport const MovieItem = styled(NavLink)`\r\n  background-color: #1f2c383d;\r\n  border-radius: 5px;\r\n  border: 1px solid #333333;\r\n  color: inherit;\r\n  width: 100%;\r\n  display: block;\r\n  text-align: center;\r\n  padding: 6px;\r\n  transition: 0.2s all;\r\n  &:hover {\r\n    color: darkcyan;\r\n    background-color: #1f2c3800;\r\n  }\r\n`;\r\n\r\nexport const SubscriptionsWrapper = styled.div`\r\n  padding: 5px;\r\n  height: 85%;\r\n  overflow-y: auto;\r\n  border: 1px solid #3e3e3e54;\r\n`;\r\n\r\nexport const SubscriptionsHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n","import React from 'react';\r\nimport { Popover } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled(Popover)`\r\n  max-width: 400px;\r\n  width: 100%;\r\n  height: 100%;\r\n  max-height: 450px;\r\n  background-color: hsl(218deg 15% 8%);\r\n  border: 1px solid #415858;\r\n  @media (max-width: 768px) {\r\n    width: 95%;\r\n  }\r\n`;\r\n\r\nconst StyledPopoverBody = styled(Popover.Content)`\r\n  overflow-y: auto;\r\n  height: calc(90% - 1px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: hsl(218deg 15% 8%);\r\n  color: whitesmoke;\r\n`;\r\n\r\nconst StyledPopOverHeader = styled(Popover.Title)`\r\n  background-color: hsl(216deg 13% 14%);\r\n  color: whitesmoke;\r\n  border-bottom: 1px solid #2d2d2d;\r\n  height: 10%;\r\n`;\r\n\r\nconst CustomPopover = React.forwardRef((props, ref) => {\r\n  return (\r\n    <Wrapper\r\n      ref={ref}\r\n      id={props.id}\r\n      {...props}\r\n      onBlur={() => props.handleOutsideClick}>\r\n      <StyledPopOverHeader>{props.title}</StyledPopOverHeader>\r\n      <StyledPopoverBody>{props.children}</StyledPopoverBody>\r\n    </Wrapper>\r\n  );\r\n});\r\nexport default CustomPopover;\r\n","import styled from 'styled-components';\r\n\r\nexport const MovieItem = styled.button`\r\n  background-color: #1f2c383d;\r\n  border-radius: 5px;\r\n  border: 1px solid #333333;\r\n  color: inherit;\r\n  width: 100%;\r\n  display: block;\r\n  text-align: center;\r\n  padding: 6px;\r\n  transition: 0.2s all;\r\n  &:hover {\r\n    color: darkcyan;\r\n    background-color: #1f2c3800;\r\n  }\r\n`;\r\n\r\nexport const ShowTitle = styled.h5`\r\n  text-align: center;\r\n`;\r\n\r\nexport const ShowWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const FlexChildContainer = styled.div`\r\n  flex: 1 1 50%;\r\n  max-width: 50%;\r\n`;\r\n\r\nexport const SelectedShowWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { useShows } from '../../../context/ShowsContext';\r\nimport FormInput from '../../shared/FormInput';\r\nimport { PrimaryButton } from '../../shared/Buttons';\r\nimport { useSubscriptions } from '../../../context/SubscriptionsContext';\r\nimport * as S from './styled';\r\nconst LABEL_TEXT = 'Search a show';\r\nconst DATE_LABEL_TEXT = 'Pick a date';\r\n\r\nexport function SelectedShow({ member, onSubmit }) {\r\n  const { initShows } = useShows();\r\n  const [renderShows, setRenderShows] = useState(initShows);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [dateValue, setDateValue] = useState(\r\n    new Date().toLocaleDateString('en-CA'),\r\n  );\r\n\r\n  const { addNewSubscription } = useSubscriptions();\r\n\r\n  const [selectedShow, setSelectedShow] = useState(null);\r\n\r\n  const onSearchInputChange = (e) => {\r\n    const val = e.target.value;\r\n    const filteredShows = initShows.filter((show) =>\r\n      show.name.toLowerCase().includes(val.toLowerCase()),\r\n    );\r\n    setRenderShows(filteredShows);\r\n    setSearchValue(val);\r\n  };\r\n\r\n  const onDateInputChange = (e) => {\r\n    const val = e.target.value;\r\n    setDateValue(val);\r\n  };\r\n\r\n  const handleSubscribe = () => {\r\n    const data = { show: selectedShow, date: dateValue, member };\r\n    addNewSubscription(data)\r\n      .then(() => {\r\n        onSubmit();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const inputData = { value: searchValue, label: LABEL_TEXT, type: 'text' };\r\n  const dateInputData = {\r\n    value: dateValue,\r\n    label: DATE_LABEL_TEXT,\r\n    type: 'date',\r\n  };\r\n  return (\r\n    <>\r\n      {!selectedShow ? (\r\n        <>\r\n          <FormInput data={inputData} changed={onSearchInputChange} />\r\n          {renderShows.map((show) => {\r\n            return (\r\n              <S.MovieItem key={show._id} onClick={() => setSelectedShow(show)}>\r\n                {show.name}\r\n              </S.MovieItem>\r\n            );\r\n          })}\r\n        </>\r\n      ) : (\r\n        <S.SelectedShowWrapper>\r\n          <S.ShowWrapper>\r\n            <S.FlexChildContainer>\r\n              <img src={selectedShow.image} width='100%' alt='' />\r\n            </S.FlexChildContainer>\r\n            <S.FlexChildContainer>\r\n              <S.ShowTitle>{selectedShow.name}</S.ShowTitle>\r\n              <FormInput\r\n                data={dateInputData}\r\n                changed={onDateInputChange}\r\n                width='100%'\r\n              />\r\n            </S.FlexChildContainer>\r\n          </S.ShowWrapper>\r\n          <PrimaryButton onClick={handleSubscribe}>Subscribe</PrimaryButton>\r\n        </S.SelectedShowWrapper>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const FormWrapper = styled.div`\r\n  max-width: 70%;\r\n  margin: auto;\r\n  padding-block: 20px;\r\n  background-color: #1f2c383d;\r\n  border-radius: 20px;\r\n  @media (max-width: 768px) {\r\n    max-width: 100%;\r\n    max-height: 70vh;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  width: 100%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  display: flex;\r\n`;\r\n\r\nexport const InputsWrapper = styled.div`\r\n  max-width: 100%;\r\n  padding-inline: 20px;\r\n  display: flex;\r\n  gap: 20px;\r\n  justify-content: space-evenly;\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const FormError = styled.div`\r\n  color: #721c24;\r\n  background-color: #f8d7da;\r\n  border-color: #f5c6cb;\r\n  padding: 0.5rem 1.25rem;\r\n  border: 1px solid transparent;\r\n  border-radius: 0.25rem;\r\n  margin: 0 auto;\r\n  max-width: 50%;\r\n`;\r\n\r\nexport const Credentials = styled.div`\r\n  flex-grow: 2;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  max-width: 60%;\r\n  gap: 20px;\r\n`;\r\n\r\nexport const Permissions = styled.div`\r\n  flex-grow: 1;\r\n  max-height: 235px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n  text-align: center;\r\n`;\r\n\r\nexport const FormHeader = styled.div`\r\n  text-align: center;\r\n  min-height: 75px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","const emailReg =\r\n  /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\r\n\r\nexport const validateInput = (name, value) => {\r\n  let hasError = false,\r\n    error = '';\r\n  switch (name) {\r\n    case 'name':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Name cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'city':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'City cannot be empty';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n\r\n    case 'email':\r\n      if (value.trim() === '') {\r\n        hasError = true;\r\n        error = 'Email cannot be empty';\r\n      } else if (!emailReg.test(value)) {\r\n        hasError = true;\r\n        error = 'Please provide a valid email address';\r\n      } else {\r\n        hasError = false;\r\n        error = '';\r\n      }\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return { hasError, error };\r\n};\r\n\r\nexport const initialForm = {\r\n  name: {\r\n    label: 'Name',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  city: {\r\n    label: 'City',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  email: {\r\n    label: 'Email',\r\n    value: '',\r\n    type: 'text',\r\n    touched: false,\r\n    hasError: true,\r\n    error: '',\r\n  },\r\n  isFormValid: false,\r\n};\r\n","import React, { useEffect, useReducer, useState } from 'react';\r\nimport * as S from './styled';\r\nimport FormInput from '../../shared/FormInput';\r\nimport { validateInput, initialForm } from '../../../utils/memberHelpers';\r\nimport { FormModal } from '../../shared/Modals';\r\nimport { PrimaryButton } from '../../shared/Buttons';\r\nimport {\r\n  initForm,\r\n  UPDATE_FORM,\r\n  RESET_FORM,\r\n  STATUS,\r\n  focusOut,\r\n  inputChange,\r\n} from '../../../utils/formHelpers';\r\n\r\nconst MemberForm = ({ action, buttonText, headerText, memberData }) => {\r\n  const formReducer = initForm(initialForm);\r\n  const [formData, dispatch] = useReducer(formReducer, initialForm);\r\n  const [status, setStatus] = useState(STATUS.init);\r\n  const [message, setMessage] = useState('');\r\n  const [showError, setShowError] = useState(false);\r\n\r\n  const onInputChange = inputChange(validateInput);\r\n  const onFocusOut = focusOut(validateInput);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setStatus(STATUS.loading);\r\n    let isFormValid = true;\r\n    try {\r\n      for (const name in formData) {\r\n        const item = formData[name];\r\n        const { value } = item;\r\n        const { hasError, error } = validateInput(name, value);\r\n        if (hasError) {\r\n          isFormValid = false;\r\n        }\r\n        if (name) {\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              name,\r\n              value,\r\n              hasError,\r\n              error,\r\n              touched: true,\r\n              isFormValid,\r\n            },\r\n          });\r\n        }\r\n      }\r\n      if (!isFormValid) {\r\n        setShowError(true);\r\n        setTimeout(() => {\r\n          setShowError(false);\r\n        }, 5000);\r\n      } else {\r\n        // form is valid\r\n        const formatedData = {};\r\n        for (const field in formData) {\r\n          formatedData[field] = formData[field].value;\r\n        }\r\n\r\n        const response = await action(formatedData);\r\n        setStatus(STATUS.success);\r\n        setMessage(response.data.message);\r\n        dispatch({\r\n          type: RESET_FORM,\r\n        });\r\n      }\r\n\r\n      // setFormData({ key: 'reset' });\r\n    } catch (error) {\r\n      console.log(error);\r\n      setStatus(STATUS.fail);\r\n      setMessage(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (memberData) {\r\n      for (const key in memberData) {\r\n        if (Object.hasOwnProperty.call(memberData, key)) {\r\n          const value = memberData[key];\r\n          dispatch({\r\n            type: UPDATE_FORM,\r\n            data: {\r\n              value,\r\n              name: key,\r\n              touched: true,\r\n              isFormValid: true,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }, [memberData]);\r\n  return (\r\n    <>\r\n      <FormModal status={status} setStatus={setStatus} message={message} />\r\n      <S.FormWrapper>\r\n        <S.Header>{headerText}</S.Header>\r\n        <S.FormHeader>\r\n          {showError && !formData.isFormValid && (\r\n            <S.FormError>Please fill all the fields correctly</S.FormError>\r\n          )}\r\n        </S.FormHeader>\r\n\r\n        <S.Form>\r\n          <S.InputsWrapper>\r\n            {Object.keys(formData).map((key) => {\r\n              return (\r\n                (formData[key].type === 'text' ||\r\n                  formData[key].type === 'number') && (\r\n                  <FormInput\r\n                    changed={(e) =>\r\n                      onInputChange(key, e.target.value, dispatch, formData)\r\n                    }\r\n                    key={key}\r\n                    id={key}\r\n                    data={formData[key]}\r\n                    onFocusOut={(e) =>\r\n                      onFocusOut(key, e.target.value, dispatch, formData)\r\n                    }\r\n                  />\r\n                )\r\n              );\r\n            })}\r\n          </S.InputsWrapper>\r\n          <PrimaryButton type='submit' onClick={handleSubmit}>\r\n            {buttonText}\r\n          </PrimaryButton>\r\n        </S.Form>\r\n      </S.FormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemberForm;\r\n","import React from 'react';\r\nimport MemberForm from '../member-form/MemberForm';\r\nimport { useMembers } from '../../../context/MembersContext';\r\nimport { Modal } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledModal = styled.div`\r\n  background-color: hsl(218deg 15% 8%);\r\n  color: whitesmoke;\r\n  border: 1px solid #b5b5b542;\r\n`;\r\n\r\nconst StyledModalHeader = styled(Modal.Header)`\r\n  border-color: #b5b5b542;\r\n`;\r\n\r\nconst StyledModalBody = styled(Modal.Body)`\r\n  border: 1px solid #b5b5b500;\r\n`;\r\n\r\nconst EditMemberModal = ({ open, setOpen, memberData }) => {\r\n  const handleClose = () => setOpen(false);\r\n\r\n  const { editMember } = useMembers();\r\n\r\n  const BUTTON_TEXT = 'Update';\r\n  const HEADER_TEXT = 'Edit Member';\r\n\r\n  return (\r\n    <Modal show={open} onHide={handleClose} size='xl'>\r\n      <StyledModal>\r\n        <StyledModalHeader closeButton>\r\n          <Modal.Title>Edit Member</Modal.Title>\r\n        </StyledModalHeader>\r\n        <StyledModalBody>\r\n          <MemberForm\r\n            buttonText={BUTTON_TEXT}\r\n            headerText={HEADER_TEXT}\r\n            action={editMember}\r\n            memberData={memberData}\r\n          />\r\n        </StyledModalBody>\r\n      </StyledModal>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditMemberModal;\r\n","import React, { useRef, useState } from 'react';\r\nimport { useShows } from '../../../context/ShowsContext';\r\nimport { useMembers } from '../../../context/MembersContext';\r\nimport { OutLineButton } from '../../shared/Buttons';\r\nimport Icon from '@mdi/react';\r\nimport { mdiAccountEditOutline, mdiDeleteOutline } from '@mdi/js';\r\nimport {\r\n  CardContainer,\r\n  CardActions,\r\n  CardInfoSubHeader,\r\n  CardHeader,\r\n  CardInfoText,\r\n  CardInfoBlock,\r\n} from '../../shared/Card';\r\nimport { StyledLinkButton } from '../../shared/Buttons';\r\nimport * as S from './styled';\r\nimport CustomPopover from '../../shared/CustomPopover';\r\nimport { Overlay } from 'react-bootstrap';\r\nimport { SelectedShow } from '../../Shows/SelectedShow/SelectedShow';\r\nimport EditMemberModal from '../edit-member/EditMemberModal';\r\nimport { useAuth } from '../../../context/UserContext';\r\n\r\nconst MemberDisplay = ({ member, subscriptions }) => {\r\n  const { _id, city, email, name } = member;\r\n  const [openShows, setOpenShows] = useState(false);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const target = useRef(null);\r\n  const { getShowById } = useShows();\r\n  const { deleteMember } = useMembers();\r\n  const { authDetails } = useAuth();\r\n\r\n  const handleDelete = async (memberId) => {\r\n    try {\r\n      await deleteMember(memberId);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CardContainer>\r\n        <CardHeader>\r\n          <CardActions>\r\n            {authDetails.permissions.includes('deleteSubscriptions') && (\r\n              <OutLineButton\r\n                BColor='darkcyan'\r\n                onClick={() => setOpenModal(true)}>\r\n                Edit\r\n                <Icon path={mdiAccountEditOutline} size={1} />\r\n              </OutLineButton>\r\n            )}\r\n            {authDetails.permissions.includes('updateSubscriptions') && (\r\n              <OutLineButton BColor='#522a2a' onClick={() => handleDelete(_id)}>\r\n                Delete\r\n                <Icon path={mdiDeleteOutline} size={1} />\r\n              </OutLineButton>\r\n            )}\r\n          </CardActions>\r\n        </CardHeader>\r\n        <CardInfoBlock>\r\n          <CardInfoSubHeader>Name: </CardInfoSubHeader>\r\n          <CardInfoText>{name}</CardInfoText>\r\n        </CardInfoBlock>\r\n        <CardInfoBlock>\r\n          <CardInfoSubHeader>City: </CardInfoSubHeader>\r\n          <CardInfoText>{city}</CardInfoText>\r\n        </CardInfoBlock>\r\n        <CardInfoBlock>\r\n          <CardInfoSubHeader>Email: </CardInfoSubHeader>\r\n          <CardInfoText>{email}</CardInfoText>\r\n        </CardInfoBlock>\r\n        <hr />\r\n        <S.MoviesWatchedWrapper>\r\n          <S.SubscriptionsHeader>\r\n            <h5>Movies watched</h5>\r\n\r\n            <StyledLinkButton\r\n              onClick={() => setOpenShows(!openShows)}\r\n              ref={target}\r\n              fontSmall>\r\n              Subscribe to new movie\r\n            </StyledLinkButton>\r\n            <Overlay\r\n              show={openShows}\r\n              onHide={() => setOpenShows(false)}\r\n              target={target.current}\r\n              flip\r\n              rootClose>\r\n              {({ ...props }) => (\r\n                <CustomPopover {...props} id={_id} title='Shows'>\r\n                  <SelectedShow\r\n                    member={member}\r\n                    onSubmit={() => setOpenShows(false)}\r\n                  />\r\n                </CustomPopover>\r\n              )}\r\n            </Overlay>\r\n          </S.SubscriptionsHeader>\r\n          {subscriptions && subscriptions.movies && (\r\n            <S.SubscriptionsWrapper>\r\n              {subscriptions.movies.map((movie, index) => {\r\n                const show = getShowById(movie.movieId);\r\n                return (\r\n                  <S.MovieItem\r\n                    to={`/main/shows/${show._id}`}\r\n                    key={show._id + index.toString()}>\r\n                    {show.name}\r\n                    <br />\r\n                    {movie.date}\r\n                  </S.MovieItem>\r\n                );\r\n              })}\r\n            </S.SubscriptionsWrapper>\r\n          )}\r\n        </S.MoviesWatchedWrapper>\r\n      </CardContainer>\r\n      <EditMemberModal\r\n        open={openModal}\r\n        setOpen={setOpenModal}\r\n        memberData={member}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemberDisplay;\r\n","import React from 'react';\r\nimport { useMembers } from '../../../context/MembersContext';\r\nimport { useSubscriptions } from '../../../context/SubscriptionsContext';\r\nimport MemberDisplay from '../member-display/MemberDisplay';\r\nimport { FlexWrap } from '../../shared/Wrapper';\r\n\r\nconst AllMembers = () => {\r\n  const { allMembers } = useMembers();\r\n  const { allSubscriptions } = useSubscriptions();\r\n\r\n  const getMemberSubscriptions = (memberId) => {\r\n    const memberSubscriptions = allSubscriptions.find(\r\n      (subscription) => subscription.memberId === memberId,\r\n    );\r\n    if (!memberSubscriptions) {\r\n      return;\r\n    }\r\n    return memberSubscriptions;\r\n  };\r\n\r\n  return (\r\n    <FlexWrap>\r\n      {allMembers.map((member) => {\r\n        return (\r\n          <MemberDisplay\r\n            member={member}\r\n            id={member._id}\r\n            key={member._id}\r\n            subscriptions={getMemberSubscriptions(member._id)}\r\n          />\r\n        );\r\n      })}\r\n    </FlexWrap>\r\n  );\r\n};\r\n\r\nexport default AllMembers;\r\n","import React from 'react';\r\nimport MemberForm from './member-form/MemberForm';\r\nimport { useMembers } from '../../context/MembersContext';\r\n\r\nconst AddMember = () => {\r\n  const BUTTON_TEXT = 'Add Member';\r\n  const HEADER_TEXT = 'New Member';\r\n  const { addNewMember } = useMembers();\r\n  return (\r\n    <>\r\n      <MemberForm\r\n        action={addNewMember}\r\n        buttonText={BUTTON_TEXT}\r\n        headerText={HEADER_TEXT}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddMember;\r\n","import React from 'react';\r\nimport { InnerNav } from '../components/shared/InnerNav';\r\nimport { StyledLink } from '../components/shared/Buttons';\r\nimport { Switch, useRouteMatch } from 'react-router-dom';\r\nimport PrivateRoute from '../components/Auth/PrivateRoute';\r\nimport AllMembers from '../components/Members/all-members/AllMembers';\r\nimport AddMember from '../components/Members/AddMember';\r\nimport { useAuth } from '../context/UserContext';\r\n\r\nconst Members = () => {\r\n  const { path, url } = useRouteMatch();\r\n  const { authDetails } = useAuth();\r\n\r\n  return (\r\n    <>\r\n      <InnerNav>\r\n        <StyledLink to={`${url}`} activeClassName='active' exact>\r\n          All Members\r\n        </StyledLink>\r\n        {authDetails.permissions.includes('createSubscriptions') && (\r\n          <StyledLink to={`${url}/add-member`} activeClassName='active'>\r\n            Add Member\r\n          </StyledLink>\r\n        )}\r\n      </InnerNav>\r\n      <Switch>\r\n        <PrivateRoute path={path} exact>\r\n          <AllMembers />\r\n        </PrivateRoute>\r\n        {authDetails.permissions.includes('createSubscriptions') && (\r\n          <PrivateRoute path={`${path}/add-member`}>\r\n            <AddMember />\r\n          </PrivateRoute>\r\n        )}\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Members;\r\n","import React from 'react';\r\n\r\nconst Welcome = () => {\r\n  return (\r\n    <>\r\n      <h2>Welcome page!</h2>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n","import React from 'react';\r\nimport { Switch, useRouteMatch } from 'react-router-dom';\r\nimport PrivateRoute from '../components/Auth/PrivateRoute';\r\nimport MainNavbar from '../components/Navbar/MainNavbar';\r\nimport Users from './Users';\r\nimport Shows from './Shows';\r\nimport Members from './Subscriptions';\r\nimport Welcome from '../components/Welcome';\r\nimport styled from 'styled-components';\r\nimport { PageWrapper } from '../components/shared/Wrapper';\r\nimport { ShowsContextProvider } from '../context/ShowsContext';\r\nimport { SubscriptionsContextProvider } from '../context/SubscriptionsContext';\r\nimport { MembersContextProvider } from '../context/MembersContext';\r\nimport { useAuth } from '../context/UserContext';\r\nconst MainWrapper = styled.div`\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-rows: 13% 86%;\r\n  row-gap: 1%;\r\n  @media (max-width: 768px) {\r\n    grid-template-rows: 20% 80%;\r\n    padding: 2%;\r\n  }\r\n`;\r\n\r\nconst Main = () => {\r\n  const { authDetails } = useAuth();\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <MainWrapper>\r\n      <MainNavbar />\r\n      <PageWrapper>\r\n        <ShowsContextProvider>\r\n          <SubscriptionsContextProvider>\r\n            <MembersContextProvider>\r\n              <Switch>\r\n                <PrivateRoute path={path} exact>\r\n                  <Welcome />\r\n                </PrivateRoute>\r\n                {authDetails.permissions.includes('viewMovies') && (\r\n                  <PrivateRoute path={`${path}/shows`}>\r\n                    <Shows />\r\n                  </PrivateRoute>\r\n                )}\r\n                {authDetails.permissions.includes('viewSubscriptions') && (\r\n                  <PrivateRoute path={`${path}/members`}>\r\n                    <Members />\r\n                  </PrivateRoute>\r\n                )}\r\n                {authDetails.isAdmin && (\r\n                  <PrivateRoute path={`${path}/users`}>\r\n                    <Users />\r\n                  </PrivateRoute>\r\n                )}\r\n              </Switch>\r\n            </MembersContextProvider>\r\n          </SubscriptionsContextProvider>\r\n        </ShowsContextProvider>\r\n      </PageWrapper>\r\n    </MainWrapper>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import Auth from './pages/Auth';\r\nimport Main from './pages/Main';\r\nimport PrivateRoute from './components/Auth/PrivateRoute';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { UserContextProvider } from './context/UserContext';\r\nimport styled from 'styled-components';\r\n\r\nconst MainWrapper = styled.div`\r\n  background: linear-gradient(\r\n    45deg,\r\n    hsl(216deg 13% 8%) 80%,\r\n    hsl(202deg 70% 12%) 100%\r\n  );\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  padding: 2% 2% 0 2%;\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <div className='App'>\r\n      <UserContextProvider>\r\n        <MainWrapper>\r\n          <Router>\r\n            <Switch>\r\n              <PrivateRoute path='/main'>\r\n                <Main />\r\n              </PrivateRoute>\r\n              <Route path='/'>\r\n                <Auth />\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </MainWrapper>\r\n      </UserContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}